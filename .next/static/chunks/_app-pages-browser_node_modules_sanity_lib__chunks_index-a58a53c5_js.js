"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_sanity_lib__chunks_index-a58a53c5_js"],{

/***/ "(app-pages-browser)/./node_modules/sanity/lib/_chunks/PaneItem-adf4dca2.js":
/*!**************************************************************!*\
  !*** ./node_modules/sanity/lib/_chunks/PaneItem-adf4dca2.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PaneItem: function() { return /* binding */ PaneItem; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sanity/icons */ \"(app-pages-browser)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sanity/types */ \"(app-pages-browser)/./node_modules/@sanity/types/lib/index.esm.js\");\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sanity/ui */ \"(app-pages-browser)/./node_modules/@sanity/ui/dist/index.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sanity */ \"(app-pages-browser)/./node_modules/sanity/lib/index.esm.js\");\n/* harmony import */ var _desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./desk-72f5b93a.js */ \"(app-pages-browser)/./node_modules/sanity/lib/_chunks/desk-72f5b93a.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/omit.js */ \"(app-pages-browser)/./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_omit_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _sanity_util_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sanity/util/paths */ \"(app-pages-browser)/./node_modules/@sanity/util/lib/paths.esm.js\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sanity/router */ \"(app-pages-browser)/./node_modules/sanity/lib/router.esm.js\");\n\n\n\n\n\n\n\n\n\n\nconst getUnknownTypeFallback = (id, typeName) => ({\n  title: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"em\", {\n    children: [\"No schema found for type \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n      children: typeName\n    })]\n  }),\n  subtitle: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"em\", {\n    children: [\"Document: \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n      children: id\n    })]\n  }),\n  media: () => /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_7__.WarningOutlineIcon, {})\n});\nfunction MissingSchemaType(props) {\n  const {\n    layout,\n    value\n  } = props;\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.SanityDefaultPreview, {\n    ...getUnknownTypeFallback(value._id, value._type),\n    layout\n  });\n}\nfunction getIconWithFallback(icon, schemaType, defaultIcon) {\n  if (icon === false) {\n    return false;\n  }\n  return icon || schemaType && schemaType.icon || defaultIcon || false;\n}\nfunction PaneItem(props) {\n  const {\n    icon,\n    id,\n    layout = \"default\",\n    pressed,\n    schemaType,\n    selected,\n    title,\n    value,\n    margin,\n    marginBottom,\n    marginTop\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useSchema)();\n  const documentPreviewStore = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useDocumentPreviewStore)();\n  const {\n    ChildLink\n  } = (0,_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_3__.usePaneRouter)();\n  const documentPresence = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useDocumentPresence)(id);\n  const hasSchemaType = Boolean(schemaType && schemaType.name && schema.get(schemaType.name));\n  const [clicked, setClicked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const preview = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (value && (0,_sanity_types__WEBPACK_IMPORTED_MODULE_8__.isSanityDocument)(value)) {\n      if (!schemaType || !hasSchemaType) {\n        return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MissingSchemaType, {\n          value\n        });\n      }\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_3__.PaneItemPreview, {\n        documentPreviewStore,\n        icon: getIconWithFallback(icon, schemaType, _sanity_icons__WEBPACK_IMPORTED_MODULE_7__.DocumentIcon),\n        layout,\n        schemaType,\n        value,\n        presence: documentPresence\n      });\n    }\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.SanityDefaultPreview, {\n      status: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_9__.Text, {\n        muted: true,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_7__.ChevronRightIcon, {})\n      }),\n      icon: getIconWithFallback(icon, schemaType, _sanity_icons__WEBPACK_IMPORTED_MODULE_7__.FolderIcon),\n      layout,\n      title\n    });\n  }, [documentPreviewStore, hasSchemaType, icon, layout, schemaType, title, value, documentPresence]);\n  const Link = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => function LinkComponent(linkProps) {\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChildLink, {\n      ...linkProps,\n      childId: id\n    });\n  }, [ChildLink, id]);\n  const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e => {\n    if (e.metaKey) {\n      setClicked(false);\n      return;\n    }\n    setClicked(true);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => setClicked(false), [selected]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.PreviewCard, {\n    __unstable_focusRing: true,\n    as: Link,\n    \"data-as\": \"a\",\n    \"data-ui\": \"PaneItem\",\n    margin,\n    marginBottom,\n    marginTop,\n    onClick: handleClick,\n    padding: 2,\n    pressed,\n    radius: 2,\n    selected: selected || clicked,\n    sizing: \"border\",\n    tabIndex: -1,\n    tone: \"inherit\",\n    children: preview\n  });\n}\n\n//# sourceMappingURL=PaneItem-adf4dca2.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zYW5pdHkvbGliL19jaHVua3MvUGFuZUl0ZW0tYWRmNGRjYTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUE4QztBQUNpRDtBQUM5QztBQUNmO0FBQ2dDO0FBQ2tEO0FBQ2hEO0FBQzVDO0FBQ0k7QUFDTDtBQUN2QjtBQUNBLHdCQUF3Qix1REFBSTtBQUM1QiwyREFBMkQsc0RBQUc7QUFDOUQ7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILDJCQUEyQix1REFBSTtBQUMvQiw0Q0FBNEMsc0RBQUc7QUFDL0M7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILDhCQUE4QixzREFBRyxDQUFDLDZEQUFrQixJQUFJO0FBQ3hELENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSix3QkFBd0Isc0RBQUcsQ0FBQyx3REFBb0I7QUFDaEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGlCQUFpQixpREFBUztBQUMxQiwrQkFBK0IsK0RBQXVCO0FBQ3REO0FBQ0E7QUFDQSxJQUFJLEVBQUUsZ0VBQWE7QUFDbkIsMkJBQTJCLDJEQUFtQjtBQUM5QztBQUNBLGdDQUFnQywrQ0FBUTtBQUN4QyxrQkFBa0IsOENBQU87QUFDekIsaUJBQWlCLCtEQUFnQjtBQUNqQztBQUNBLDhCQUE4QixzREFBRztBQUNqQztBQUNBLFNBQVM7QUFDVDtBQUNBLDRCQUE0QixzREFBRyxDQUFDLDhEQUFlO0FBQy9DO0FBQ0Esb0RBQW9ELHVEQUFZO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsMEJBQTBCLHNEQUFHLENBQUMsd0RBQW9CO0FBQ2xELDZCQUE2QixzREFBRyxDQUFDLDRDQUFJO0FBQ3JDO0FBQ0EsaUNBQWlDLHNEQUFHLENBQUMsMkRBQWdCLElBQUk7QUFDekQsT0FBTztBQUNQLGtEQUFrRCxxREFBVTtBQUM1RDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxlQUFlLDhDQUFPO0FBQ3RCLDBCQUEwQixzREFBRztBQUM3QjtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxzQkFBc0Isa0RBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1gsd0JBQXdCLHNEQUFHLENBQUMsK0NBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3Nhbml0eS9saWIvX2NodW5rcy9QYW5lSXRlbS1hZGY0ZGNhMi5qcz81MDI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCwganN4cyB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IFdhcm5pbmdPdXRsaW5lSWNvbiwgQ2hldnJvblJpZ2h0SWNvbiwgRG9jdW1lbnRJY29uLCBGb2xkZXJJY29uIH0gZnJvbSAnQHNhbml0eS9pY29ucyc7XG5pbXBvcnQgeyBpc1Nhbml0eURvY3VtZW50IH0gZnJvbSAnQHNhbml0eS90eXBlcyc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnQHNhbml0eS91aSc7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlTWVtbywgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFNhbml0eURlZmF1bHRQcmV2aWV3LCB1c2VTY2hlbWEsIHVzZURvY3VtZW50UHJldmlld1N0b3JlLCB1c2VEb2N1bWVudFByZXNlbmNlLCBQcmV2aWV3Q2FyZCB9IGZyb20gJ3Nhbml0eSc7XG5pbXBvcnQgeyB1c2VQYW5lUm91dGVyLCBQYW5lSXRlbVByZXZpZXcgfSBmcm9tICcuL2Rlc2stNzJmNWI5M2EuanMnO1xuaW1wb3J0ICdsb2Rhc2gvb21pdC5qcyc7XG5pbXBvcnQgJ0BzYW5pdHkvdXRpbC9wYXRocyc7XG5pbXBvcnQgJ3Nhbml0eS9yb3V0ZXInO1xuY29uc3QgZ2V0VW5rbm93blR5cGVGYWxsYmFjayA9IChpZCwgdHlwZU5hbWUpID0+ICh7XG4gIHRpdGxlOiAvKiBAX19QVVJFX18gKi9qc3hzKFwiZW1cIiwge1xuICAgIGNoaWxkcmVuOiBbXCJObyBzY2hlbWEgZm91bmQgZm9yIHR5cGUgXCIsIC8qIEBfX1BVUkVfXyAqL2pzeChcImNvZGVcIiwge1xuICAgICAgY2hpbGRyZW46IHR5cGVOYW1lXG4gICAgfSldXG4gIH0pLFxuICBzdWJ0aXRsZTogLyogQF9fUFVSRV9fICovanN4cyhcImVtXCIsIHtcbiAgICBjaGlsZHJlbjogW1wiRG9jdW1lbnQ6IFwiLCAvKiBAX19QVVJFX18gKi9qc3goXCJjb2RlXCIsIHtcbiAgICAgIGNoaWxkcmVuOiBpZFxuICAgIH0pXVxuICB9KSxcbiAgbWVkaWE6ICgpID0+IC8qIEBfX1BVUkVfXyAqL2pzeChXYXJuaW5nT3V0bGluZUljb24sIHt9KVxufSk7XG5mdW5jdGlvbiBNaXNzaW5nU2NoZW1hVHlwZShwcm9wcykge1xuICBjb25zdCB7XG4gICAgbGF5b3V0LFxuICAgIHZhbHVlXG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChTYW5pdHlEZWZhdWx0UHJldmlldywge1xuICAgIC4uLmdldFVua25vd25UeXBlRmFsbGJhY2sodmFsdWUuX2lkLCB2YWx1ZS5fdHlwZSksXG4gICAgbGF5b3V0XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0SWNvbldpdGhGYWxsYmFjayhpY29uLCBzY2hlbWFUeXBlLCBkZWZhdWx0SWNvbikge1xuICBpZiAoaWNvbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGljb24gfHwgc2NoZW1hVHlwZSAmJiBzY2hlbWFUeXBlLmljb24gfHwgZGVmYXVsdEljb24gfHwgZmFsc2U7XG59XG5mdW5jdGlvbiBQYW5lSXRlbShwcm9wcykge1xuICBjb25zdCB7XG4gICAgaWNvbixcbiAgICBpZCxcbiAgICBsYXlvdXQgPSBcImRlZmF1bHRcIixcbiAgICBwcmVzc2VkLFxuICAgIHNjaGVtYVR5cGUsXG4gICAgc2VsZWN0ZWQsXG4gICAgdGl0bGUsXG4gICAgdmFsdWUsXG4gICAgbWFyZ2luLFxuICAgIG1hcmdpbkJvdHRvbSxcbiAgICBtYXJnaW5Ub3BcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzY2hlbWEgPSB1c2VTY2hlbWEoKTtcbiAgY29uc3QgZG9jdW1lbnRQcmV2aWV3U3RvcmUgPSB1c2VEb2N1bWVudFByZXZpZXdTdG9yZSgpO1xuICBjb25zdCB7XG4gICAgQ2hpbGRMaW5rXG4gIH0gPSB1c2VQYW5lUm91dGVyKCk7XG4gIGNvbnN0IGRvY3VtZW50UHJlc2VuY2UgPSB1c2VEb2N1bWVudFByZXNlbmNlKGlkKTtcbiAgY29uc3QgaGFzU2NoZW1hVHlwZSA9IEJvb2xlYW4oc2NoZW1hVHlwZSAmJiBzY2hlbWFUeXBlLm5hbWUgJiYgc2NoZW1hLmdldChzY2hlbWFUeXBlLm5hbWUpKTtcbiAgY29uc3QgW2NsaWNrZWQsIHNldENsaWNrZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBwcmV2aWV3ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHZhbHVlICYmIGlzU2FuaXR5RG9jdW1lbnQodmFsdWUpKSB7XG4gICAgICBpZiAoIXNjaGVtYVR5cGUgfHwgIWhhc1NjaGVtYVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChNaXNzaW5nU2NoZW1hVHlwZSwge1xuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChQYW5lSXRlbVByZXZpZXcsIHtcbiAgICAgICAgZG9jdW1lbnRQcmV2aWV3U3RvcmUsXG4gICAgICAgIGljb246IGdldEljb25XaXRoRmFsbGJhY2soaWNvbiwgc2NoZW1hVHlwZSwgRG9jdW1lbnRJY29uKSxcbiAgICAgICAgbGF5b3V0LFxuICAgICAgICBzY2hlbWFUeXBlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgcHJlc2VuY2U6IGRvY3VtZW50UHJlc2VuY2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFNhbml0eURlZmF1bHRQcmV2aWV3LCB7XG4gICAgICBzdGF0dXM6IC8qIEBfX1BVUkVfXyAqL2pzeChUZXh0LCB7XG4gICAgICAgIG11dGVkOiB0cnVlLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KENoZXZyb25SaWdodEljb24sIHt9KVxuICAgICAgfSksXG4gICAgICBpY29uOiBnZXRJY29uV2l0aEZhbGxiYWNrKGljb24sIHNjaGVtYVR5cGUsIEZvbGRlckljb24pLFxuICAgICAgbGF5b3V0LFxuICAgICAgdGl0bGVcbiAgICB9KTtcbiAgfSwgW2RvY3VtZW50UHJldmlld1N0b3JlLCBoYXNTY2hlbWFUeXBlLCBpY29uLCBsYXlvdXQsIHNjaGVtYVR5cGUsIHRpdGxlLCB2YWx1ZSwgZG9jdW1lbnRQcmVzZW5jZV0pO1xuICBjb25zdCBMaW5rID0gdXNlTWVtbygoKSA9PiBmdW5jdGlvbiBMaW5rQ29tcG9uZW50KGxpbmtQcm9wcykge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goQ2hpbGRMaW5rLCB7XG4gICAgICAuLi5saW5rUHJvcHMsXG4gICAgICBjaGlsZElkOiBpZFxuICAgIH0pO1xuICB9LCBbQ2hpbGRMaW5rLCBpZF0pO1xuICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGUgPT4ge1xuICAgIGlmIChlLm1ldGFLZXkpIHtcbiAgICAgIHNldENsaWNrZWQoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRDbGlja2VkKHRydWUpO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiBzZXRDbGlja2VkKGZhbHNlKSwgW3NlbGVjdGVkXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goUHJldmlld0NhcmQsIHtcbiAgICBfX3Vuc3RhYmxlX2ZvY3VzUmluZzogdHJ1ZSxcbiAgICBhczogTGluayxcbiAgICBcImRhdGEtYXNcIjogXCJhXCIsXG4gICAgXCJkYXRhLXVpXCI6IFwiUGFuZUl0ZW1cIixcbiAgICBtYXJnaW4sXG4gICAgbWFyZ2luQm90dG9tLFxuICAgIG1hcmdpblRvcCxcbiAgICBvbkNsaWNrOiBoYW5kbGVDbGljayxcbiAgICBwYWRkaW5nOiAyLFxuICAgIHByZXNzZWQsXG4gICAgcmFkaXVzOiAyLFxuICAgIHNlbGVjdGVkOiBzZWxlY3RlZCB8fCBjbGlja2VkLFxuICAgIHNpemluZzogXCJib3JkZXJcIixcbiAgICB0YWJJbmRleDogLTEsXG4gICAgdG9uZTogXCJpbmhlcml0XCIsXG4gICAgY2hpbGRyZW46IHByZXZpZXdcbiAgfSk7XG59XG5leHBvcnQgeyBQYW5lSXRlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFuZUl0ZW0tYWRmNGRjYTIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/sanity/lib/_chunks/PaneItem-adf4dca2.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/sanity/lib/_chunks/index-a58a53c5.js":
/*!***********************************************************!*\
  !*** ./node_modules/sanity/lib/_chunks/index-a58a53c5.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ DocumentListPane; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sanity/ui */ \"(app-pages-browser)/./node_modules/@sanity/ui/dist/index.esm.js\");\n/* harmony import */ var shallow_equals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shallow-equals */ \"(app-pages-browser)/./node_modules/shallow-equals/index.js\");\n/* harmony import */ var shallow_equals__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(shallow_equals__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/isEqual.js */ \"(app-pages-browser)/./node_modules/lodash/isEqual.js\");\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @sanity/icons */ \"(app-pages-browser)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! styled-components */ \"(app-pages-browser)/./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/defer.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/throwError.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/share.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/partition.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/take.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/throttleTime.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/scheduler/async.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/Subject.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/concat.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/tap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/debounce.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/timer.js\");\n/* harmony import */ var react_rx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-rx */ \"(app-pages-browser)/./node_modules/react-rx/dist/esm/index.js\");\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sanity */ \"(app-pages-browser)/./node_modules/sanity/lib/index.esm.js\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sanity/router */ \"(app-pages-browser)/./node_modules/sanity/lib/router.esm.js\");\n/* harmony import */ var _desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./desk-72f5b93a.js */ \"(app-pages-browser)/./node_modules/sanity/lib/_chunks/desk-72f5b93a.js\");\n/* harmony import */ var _index_0e4a6ec2_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./index-0e4a6ec2.js */ \"(app-pages-browser)/./node_modules/sanity/lib/_chunks/index-0e4a6ec2.js\");\n/* harmony import */ var _sanity_util_paths__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sanity/util/paths */ \"(app-pages-browser)/./node_modules/@sanity/util/lib/paths.esm.js\");\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @sanity/types */ \"(app-pages-browser)/./node_modules/@sanity/types/lib/index.esm.js\");\n/* harmony import */ var _PaneItem_adf4dca2_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PaneItem-adf4dca2.js */ \"(app-pages-browser)/./node_modules/sanity/lib/_chunks/PaneItem-adf4dca2.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/omit.js */ \"(app-pages-browser)/./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_omit_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash/isNumber.js */ \"(app-pages-browser)/./node_modules/lodash/isNumber.js\");\n/* harmony import */ var lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var lodash_isString_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash/isString.js */ \"(app-pages-browser)/./node_modules/lodash/isString.js\");\n/* harmony import */ var lodash_isString_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash_isString_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/startWith.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/catchError.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/scan.js\");\n/* harmony import */ var rxjs_exhaustmap_with_trailing__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs-exhaustmap-with-trailing */ \"(app-pages-browser)/./node_modules/rxjs-exhaustmap-with-trailing/dist/esm/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst PARTIAL_PAGE_LIMIT = 100;\nconst FULL_LIST_LIMIT = 2e3;\nconst DEFAULT_ORDERING = {\n  by: [{\n    field: \"_updatedAt\",\n    direction: \"desc\"\n  }]\n};\nconst EMPTY_RECORD = {};\nfunction removePublishedWithDrafts(documents) {\n  return (0,sanity__WEBPACK_IMPORTED_MODULE_5__.collate)(documents).map(entry => {\n    const doc = entry.draft || entry.published;\n    return {\n      ...doc,\n      hasPublished: !!entry.published,\n      hasDraft: !!entry.draft\n    };\n  });\n}\nconst RE_TYPE_NAME_IN_FILTER = /\\b_type\\s*==\\s*(['\"].*?['\"]|\\$.*?(?:\\s|$))|\\B(['\"].*?['\"]|\\$.*?(?:\\s|$))\\s*==\\s*_type\\b/;\nfunction getTypeNameFromSingleTypeFilter(filter) {\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const matches = filter.match(RE_TYPE_NAME_IN_FILTER);\n  if (!matches) {\n    return null;\n  }\n  const match = (matches[1] || matches[2]).trim().replace(/^[\"']|[\"']$/g, \"\");\n  if (match[0] === \"$\") {\n    const k = match.slice(1);\n    const v = params[k];\n    return typeof v === \"string\" ? v : null;\n  }\n  return match;\n}\nfunction isSimpleTypeFilter(filter) {\n  return /^_type\\s*==\\s*['\"$]\\w+['\"]?\\s*$/.test(filter.trim());\n}\nfunction applyOrderingFunctions(order, schemaType) {\n  const orderBy = order.by.map(by => {\n    if (by.mapWith) {\n      return by;\n    }\n    const fieldType = tryResolveSchemaTypeForPath(schemaType, by.field);\n    if (!fieldType) {\n      return by;\n    }\n    if (fieldExtendsType(fieldType, \"datetime\")) {\n      return {\n        ...by,\n        mapWith: \"dateTime\"\n      };\n    }\n    if (fieldType.jsonType === \"string\") {\n      return {\n        ...by,\n        mapWith: \"lower\"\n      };\n    }\n    return by;\n  });\n  return orderBy.every((item, index) => item === order.by[index]) ? order : {\n    ...order,\n    by: orderBy\n  };\n}\nfunction tryResolveSchemaTypeForPath(baseType, path) {\n  const pathSegments = _sanity_util_paths__WEBPACK_IMPORTED_MODULE_9__.fromString(path);\n  let current = baseType;\n  for (const segment of pathSegments) {\n    if (!current) {\n      return void 0;\n    }\n    if (typeof segment === \"string\") {\n      current = getFieldTypeByName(current, segment);\n      continue;\n    }\n    const isArrayAccessor = (0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isKeySegment)(segment) || (0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isIndexSegment)(segment);\n    if (!isArrayAccessor || current.jsonType !== \"array\") {\n      return void 0;\n    }\n    const [memberType, otherType] = current.of || [];\n    if (otherType || !memberType) {\n      return void 0;\n    }\n    if (!(0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isReferenceSchemaType)(memberType)) {\n      current = memberType;\n      continue;\n    }\n    const [refType, otherRefType] = memberType.to || [];\n    if (otherRefType || !refType) {\n      return void 0;\n    }\n    current = refType;\n  }\n  return current;\n}\nfunction getFieldTypeByName(type, fieldName) {\n  if (!(\"fields\" in type)) {\n    return void 0;\n  }\n  const fieldType = type.fields.find(field => field.name === fieldName);\n  return fieldType ? fieldType.type : void 0;\n}\nfunction fieldExtendsType(field, ofType) {\n  let current = field.type;\n  while (current) {\n    if (current.name === ofType) {\n      return true;\n    }\n    if (!current.type && current.jsonType === ofType) {\n      return true;\n    }\n    current = current.type;\n  }\n  return false;\n}\nvar __freeze$1 = Object.freeze;\nvar __defProp$1 = Object.defineProperty;\nvar __template$1 = (cooked, raw) => __freeze$1(__defProp$1(cooked, \"raw\", {\n  value: __freeze$1(raw || cooked.slice())\n}));\nvar _a$1, _b$1;\nconst RootBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box)(_a$1 || (_a$1 = __template$1([\"\\n  position: relative;\\n\"])));\nconst CommandListBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box)(_b$1 || (_b$1 = __template$1([\"\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n\"])));\nconst SKELETON_ITEMS = [...Array(30).keys()];\nfunction LoadingView(props) {\n  const {\n    layout\n  } = props;\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Stack, {\n    padding: 2,\n    space: 1,\n    children: SKELETON_ITEMS.map(num => /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Card, {\n      padding: 2,\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_5__.SanityDefaultPreview, {\n        isPlaceholder: true,\n        layout\n      })\n    }, num))\n  });\n}\nfunction DocumentListPaneContent(props) {\n  const {\n    childItemId,\n    error,\n    filterIsSimpleTypeConstraint,\n    hasMaxItems,\n    hasSearchQuery,\n    isActive,\n    isLazyLoading,\n    isLoading,\n    items,\n    layout,\n    loadingVariant,\n    onListChange,\n    onRetry,\n    paneTitle,\n    searchInputElement,\n    showIcons\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useSchema)();\n  const {\n    collapsed: layoutCollapsed\n  } = (0,_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__.usePaneLayout)();\n  const {\n    collapsed,\n    index\n  } = (0,_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__.usePane)();\n  const [shouldRender, setShouldRender] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const handleEndReached = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    if (isLoading || isLazyLoading || !shouldRender) return;\n    onListChange();\n  }, [isLazyLoading, isLoading, onListChange, shouldRender]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (collapsed) return void 0;\n    const timer = setTimeout(() => {\n      setShouldRender(true);\n    }, 0);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [collapsed, items]);\n  const renderItem = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((item, _ref) => {\n    let {\n      activeIndex\n    } = _ref;\n    const publishedId = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.getPublishedId)(item._id);\n    const isSelected = childItemId === publishedId;\n    const pressed = !isActive && isSelected;\n    const selected = isActive && isSelected;\n    const isLastItem = activeIndex === items.length - 1;\n    const showSpinner = isLastItem && isLazyLoading;\n    const showMaxItemsMessage = isLastItem && hasMaxItems;\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      children: [/* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PaneItem_adf4dca2_js__WEBPACK_IMPORTED_MODULE_10__.PaneItem, {\n        icon: showIcons === false ? false : void 0,\n        id: publishedId,\n        layout,\n        marginBottom: 1,\n        pressed,\n        schemaType: schema.get(item._type),\n        selected,\n        value: item\n      }), showSpinner && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n        align: \"center\",\n        justify: \"center\",\n        padding: 4,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Spinner, {\n          muted: true\n        })\n      }), showMaxItemsMessage && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n        marginY: 1,\n        paddingX: 3,\n        paddingY: 4,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n          align: \"center\",\n          muted: true,\n          size: 1,\n          children: [\"Displaying a maximum of \", FULL_LIST_LIMIT, \" documents\"]\n        })\n      })]\n    });\n  }, [childItemId, isActive, items.length, layout, schema, showIcons, hasMaxItems, isLazyLoading]);\n  const noDocumentsContent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (hasSearchQuery) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Container, {\n          width: 1,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n            paddingX: 4,\n            paddingY: 5,\n            children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n              align: \"center\",\n              muted: true,\n              children: \"No results found\"\n            })\n          })\n        })\n      });\n    }\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n      align: \"center\",\n      direction: \"column\",\n      height: \"fill\",\n      justify: \"center\",\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Container, {\n        width: 1,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n          paddingX: 4,\n          paddingY: 5,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n            align: \"center\",\n            muted: true,\n            children: filterIsSimpleTypeConstraint ? \"No documents of this type\" : \"No matching documents\"\n          })\n        })\n      })\n    });\n  }, [filterIsSimpleTypeConstraint, hasSearchQuery]);\n  const mainContent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!shouldRender) {\n      return null;\n    }\n    if (error) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Container, {\n          width: 1,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Stack, {\n            paddingX: 4,\n            paddingY: 5,\n            space: 4,\n            children: [/* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Heading, {\n              as: \"h3\",\n              children: \"Could not fetch list items\"\n            }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n              as: \"p\",\n              children: [\"Error: \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n                children: error.message\n              })]\n            }), onRetry && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n              children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Button, {\n                icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_18__.SyncIcon,\n                onClick: onRetry,\n                text: \"Retry\",\n                tone: \"primary\"\n              })\n            })]\n          })\n        })\n      });\n    }\n    if (!isLoading && items.length === 0) {\n      return noDocumentsContent;\n    }\n    if (loadingVariant === \"initial\" && isLoading) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__.Delay, {\n        ms: 300,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LoadingView, {\n          layout\n        })\n      });\n    }\n    if (loadingVariant === \"spinner\" && isLoading) {\n      return null;\n    }\n    const key = \"\".concat(index, \"-\").concat(collapsed);\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RootBox, {\n      overflow: \"hidden\",\n      height: \"fill\",\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CommandListBox, {\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_5__.CommandList, {\n          activeItemDataAttr: \"data-hovered\",\n          ariaLabel: paneTitle,\n          canReceiveFocus: true,\n          focusRingOffset: -3,\n          inputElement: searchInputElement,\n          itemHeight: 51,\n          items,\n          onEndReached: handleEndReached,\n          onlyShowSelectionWhenActive: true,\n          overscan: 10,\n          padding: 2,\n          paddingBottom: 1,\n          renderItem,\n          wrapAround: false\n        }, key)\n      })\n    });\n  }, [collapsed, error, handleEndReached, index, isLoading, items, layout, loadingVariant,\n  // noDocumentsContent,\n  onRetry, renderItem, searchInputElement, shouldRender]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__.PaneContent, {\n    overflow: layoutCollapsed || loadingVariant === \"initial\" ? \"hidden\" : \"auto\",\n    children: mainContent\n  });\n}\nconst DocumentListPaneHeader = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(_ref2 => {\n  let {\n    contentAfter,\n    index,\n    initialValueTemplates = [],\n    menuItemGroups = [],\n    menuItems = [],\n    setLayout,\n    setSortOrder,\n    title\n  } = _ref2;\n  const {\n    features\n  } = (0,_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__.useDeskTool)();\n  const {\n    collapsed,\n    isLast\n  } = (0,_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__.usePane)();\n  const tabIndex = isLast && !collapsed ? -1 : 0;\n  const actionHandlers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    return {\n      setLayout: _ref3 => {\n        let {\n          layout: value\n        } = _ref3;\n        setLayout(value);\n      },\n      setSortOrder: sort => {\n        setSortOrder(sort);\n      }\n    };\n  }, [setLayout, setSortOrder]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__.PaneHeader, {\n    actions: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__.PaneHeaderActions, {\n      initialValueTemplateItems: initialValueTemplates,\n      actionHandlers,\n      menuItemGroups,\n      menuItems\n    }),\n    backButton: features.backButton && index > 0 && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Button, {\n      as: _desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__.BackLink,\n      \"data-as\": \"a\",\n      icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_18__.ArrowLeftIcon,\n      mode: \"bleed\"\n    }),\n    contentAfter,\n    tabIndex,\n    title\n  });\n});\nDocumentListPaneHeader.displayName = \"DocumentListPaneHeader\";\nfunction listenSearchQuery(options) {\n  const {\n    client,\n    schema,\n    sort,\n    limit,\n    params,\n    filter,\n    searchQuery,\n    staticTypeNames\n  } = options;\n  const sortBy = sort.by;\n  const extendedProjection = sort == null ? void 0 : sort.extendedProjection;\n  const events$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_19__.defer)(() => {\n    return client.listen(\"*[\".concat(filter, \"]\"), params, {\n      events: [\"welcome\", \"mutation\", \"reconnect\"],\n      includeResult: false,\n      visibility: \"query\"\n    });\n  }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.mergeMap)((ev, i) => {\n    const isFirst = i === 0;\n    if (isFirst && ev.type !== \"welcome\") {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.throwError)(() => new Error(ev.type === \"reconnect\" ? \"Could not establish EventSource connection\" : 'Received unexpected type of first event \"'.concat(ev.type, '\"')));\n    }\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)(ev);\n  }), (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.share)());\n  const [welcome$, mutationAndReconnect$] = (0,rxjs__WEBPACK_IMPORTED_MODULE_24__.partition)(events$, ev => ev.type === \"welcome\");\n  return (0,rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(welcome$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_26__.take)(1)), mutationAndReconnect$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_27__.throttleTime)(1e3, rxjs__WEBPACK_IMPORTED_MODULE_28__.asyncScheduler, {\n    leading: true,\n    trailing: true\n  }))).pipe((0,rxjs_exhaustmap_with_trailing__WEBPACK_IMPORTED_MODULE_14__.exhaustMapWithTrailing)(() => {\n    const typeNames$ = staticTypeNames ? (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)(staticTypeNames) : client.observable.fetch(\"array::unique(*[\".concat(filter, \"][]._type)\"), params);\n    return typeNames$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.mergeMap)(typeNames => {\n      const types = typeNames.flatMap(name => schema.get(name) || []);\n      const searchTerms = {\n        filter,\n        query: searchQuery || \"\",\n        types\n      };\n      const searchOptions = {\n        __unstable_extendedProjection: extendedProjection,\n        comments: [\"findability-source: \".concat(searchQuery ? \"list-query\" : \"list\")],\n        limit,\n        params,\n        sort: sortBy\n      };\n      const {\n        query: createdQuery,\n        params: createdParams\n      } = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.createSearchQuery)(searchTerms, searchOptions);\n      return client.observable.fetch(createdQuery, createdParams);\n    }));\n  }));\n}\nconst EMPTY_ARRAY$1 = [];\nconst INITIAL_STATE = {\n  error: null,\n  onRetry: void 0,\n  result: null\n};\nconst INITIAL_QUERY_RESULTS = {\n  result: null,\n  error: null\n};\nfunction useDocumentList(opts) {\n  const {\n    filter,\n    params: paramsProp,\n    sortOrder,\n    searchQuery\n  } = opts;\n  const client = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useClient)(sanity__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_STUDIO_CLIENT_OPTIONS);\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useSchema)();\n  const [resultState, setResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(INITIAL_STATE);\n  const {\n    onRetry,\n    error,\n    result\n  } = resultState;\n  const documents = result == null ? void 0 : result.documents;\n  const items = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => documents ? removePublishedWithDrafts(documents) : EMPTY_ARRAY$1, [documents]);\n  const [isLazyLoading, setIsLazyLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [hasFullList, setHasFullList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [shouldFetchFullList, setShouldFetchFullList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const typeNameFromFilter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getTypeNameFromSingleTypeFilter(filter, paramsProp), [filter, paramsProp]);\n  const isLoading = result === null && !error;\n  const hasMaxItems = (documents == null ? void 0 : documents.length) === FULL_LIST_LIMIT;\n  const onListChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    if (isLoading || hasFullList || shouldFetchFullList) return;\n    setShouldFetchFullList(true);\n  }, [isLoading, hasFullList, shouldFetchFullList]);\n  const handleSetResult = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(res => {\n    var _a, _b;\n    if (res.error) {\n      setResult(res);\n      return;\n    }\n    const documentsLength = ((_b = (_a = res.result) == null ? void 0 : _a.documents) == null ? void 0 : _b.length) || 0;\n    const isLoadingMoreItems = !res.error && (res == null ? void 0 : res.result) === null && shouldFetchFullList;\n    if (isLoadingMoreItems) {\n      setIsLazyLoading(true);\n      return;\n    }\n    if (documentsLength < PARTIAL_PAGE_LIMIT && documentsLength !== 0 && !shouldFetchFullList) {\n      setHasFullList(true);\n    }\n    if ((res == null ? void 0 : res.result) === null) {\n      setResult(prev => ({\n        ...(prev.error ? res : prev)\n      }));\n      return;\n    }\n    setIsLazyLoading(false);\n    setResult(res);\n  }, [shouldFetchFullList]);\n  const queryResults$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const onRetry$ = new rxjs__WEBPACK_IMPORTED_MODULE_29__.Subject();\n    const _onRetry = () => onRetry$.next();\n    const limit = shouldFetchFullList ? FULL_LIST_LIMIT : PARTIAL_PAGE_LIMIT;\n    const sort = sortOrder || DEFAULT_ORDERING;\n    return listenSearchQuery({\n      client,\n      filter,\n      limit,\n      params: paramsProp,\n      schema,\n      searchQuery: searchQuery || \"\",\n      sort,\n      staticTypeNames: typeNameFromFilter ? [typeNameFromFilter] : void 0\n    }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.map)(results => ({\n      result: {\n        documents: results\n      },\n      error: null\n    })), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.startWith)(INITIAL_QUERY_RESULTS), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_32__.catchError)(err => {\n      if (err instanceof ProgressEvent) {\n        return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.throwError)(() => new Error(\"Request error\"));\n      }\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.throwError)(() => err);\n    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_32__.catchError)((err, caught$) => {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_33__.concat)((0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)({\n        result: null,\n        error: err\n      }), (0,rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)((0,rxjs__WEBPACK_IMPORTED_MODULE_34__.fromEvent)(window, \"online\"), onRetry$).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_26__.take)(1), (0,rxjs__WEBPACK_IMPORTED_MODULE_20__.mergeMap)(() => caught$)));\n    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_35__.scan)((prev, next) => ({\n      ...prev,\n      ...next,\n      onRetry: _onRetry\n    })));\n  }, [client, filter, paramsProp, schema, searchQuery, shouldFetchFullList, sortOrder, typeNameFromFilter]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const sub = queryResults$.subscribe(handleSetResult);\n    return () => {\n      sub.unsubscribe();\n    };\n  }, [handleSetResult, queryResults$]);\n  const reset = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setHasFullList(false);\n    setIsLazyLoading(false);\n    setResult(INITIAL_STATE);\n    setShouldFetchFullList(false);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    reset();\n  }, [reset, filter, paramsProp, sortOrder, searchQuery]);\n  return {\n    error,\n    hasMaxItems,\n    isLazyLoading,\n    isLoading,\n    isSearchReady: !error,\n    items,\n    onListChange,\n    onRetry\n  };\n}\nvar __freeze = Object.freeze;\nvar __defProp = Object.defineProperty;\nvar __template = (cooked, raw) => __freeze(__defProp(cooked, \"raw\", {\n  value: __freeze(raw || cooked.slice())\n}));\nvar _a, _b, _c;\nconst EMPTY_ARRAY = [];\nconst rotate = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__.keyframes)(_a || (_a = __template([\"\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n\"])));\nconst AnimatedSpinnerIcon = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_icons__WEBPACK_IMPORTED_MODULE_18__.SpinnerIcon)(_b || (_b = __template([\"\\n  animation: \", \" 500ms linear infinite;\\n\"])), rotate);\nconst SearchCard = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Card)(_c || (_c = __template([\"\\n  [data-ui='TextInput'] {\\n    border-radius: inherit;\\n  }\\n\"])));\nfunction useShallowUnique(value) {\n  const valueRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(value);\n  if (!shallow_equals__WEBPACK_IMPORTED_MODULE_2___default()(valueRef.current, value)) {\n    valueRef.current = value;\n  }\n  return valueRef.current;\n}\nconst addSelectedStateToMenuItems = options => {\n  const {\n    menuItems,\n    sortOrderRaw,\n    layout\n  } = options;\n  return menuItems == null ? void 0 : menuItems.map(item => {\n    var _a2, _b2, _c2, _d;\n    if ((_a2 = item.params) == null ? void 0 : _a2.layout) {\n      return {\n        ...item,\n        selected: layout === ((_b2 = item.params) == null ? void 0 : _b2.layout)\n      };\n    }\n    if ((_c2 = item == null ? void 0 : item.params) == null ? void 0 : _c2.by) {\n      return {\n        ...item,\n        selected: lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3___default()(sortOrderRaw == null ? void 0 : sortOrderRaw.by, ((_d = item == null ? void 0 : item.params) == null ? void 0 : _d.by) || EMPTY_ARRAY)\n      };\n    }\n    return {\n      ...item,\n      selected: false\n    };\n  });\n};\nconst DocumentListPane = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(function DocumentListPane2(props) {\n  const {\n    childItemId,\n    index,\n    isActive,\n    isSelected,\n    pane,\n    paneKey\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useSchema)();\n  const {\n    name: parentSourceName\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useSource)();\n  const {\n    defaultLayout = \"default\",\n    displayOptions,\n    initialValueTemplates = EMPTY_ARRAY,\n    menuItemGroups,\n    menuItems,\n    options,\n    title\n  } = pane;\n  const {\n    apiVersion,\n    defaultOrdering = EMPTY_ARRAY,\n    filter\n  } = options;\n  const params = useShallowUnique(options.params || EMPTY_RECORD);\n  const sourceName = pane.source;\n  const typeName = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getTypeNameFromSingleTypeFilter(filter, params), [filter, params]);\n  const showIcons = (displayOptions == null ? void 0 : displayOptions.showIcons) !== false;\n  const [layout, setLayout] = (0,_index_0e4a6ec2_js__WEBPACK_IMPORTED_MODULE_8__.useDeskToolSetting)(typeName, \"layout\", defaultLayout);\n  const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [searchInputValue, setSearchInputValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [searchInputElement, setSearchInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const showSearchLoadingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n  const defaultSortOrder = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    return (defaultOrdering == null ? void 0 : defaultOrdering.length) > 0 ? {\n      by: defaultOrdering\n    } : DEFAULT_ORDERING;\n  }, [defaultOrdering]);\n  const [sortOrderRaw, setSortOrder] = (0,_index_0e4a6ec2_js__WEBPACK_IMPORTED_MODULE_8__.useDeskToolSetting)(typeName, \"sortOrder\", defaultSortOrder);\n  const sortWithOrderingFn = typeName && sortOrderRaw ? applyOrderingFunctions(sortOrderRaw, schema.get(typeName)) : sortOrderRaw;\n  const sortOrder = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useUnique)(sortWithOrderingFn);\n  const filterIsSimpleTypeConstraint = isSimpleTypeFilter(filter);\n  const {\n    error,\n    hasMaxItems,\n    isLazyLoading,\n    isLoading,\n    isSearchReady,\n    items,\n    onListChange,\n    onRetry\n  } = useDocumentList({\n    apiVersion,\n    filter,\n    params,\n    searchQuery: searchQuery == null ? void 0 : searchQuery.trim(),\n    sortOrder\n  });\n  const menuItemsWithSelectedState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => addSelectedStateToMenuItems({\n    menuItems,\n    sortOrderRaw,\n    layout\n  }), [layout, menuItems, sortOrderRaw]);\n  const handleQueryChange = (0,react_rx__WEBPACK_IMPORTED_MODULE_4__.useObservableCallback)(event$ => {\n    return event$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.map)(event => event.target.value), (0,rxjs__WEBPACK_IMPORTED_MODULE_36__.tap)(setSearchInputValue), (0,rxjs__WEBPACK_IMPORTED_MODULE_37__.debounce)(value => value === \"\" ? (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)(\"\") : (0,rxjs__WEBPACK_IMPORTED_MODULE_38__.timer)(300)), (0,rxjs__WEBPACK_IMPORTED_MODULE_36__.tap)(setSearchQuery));\n  }, []);\n  const handleClearSearch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setSearchQuery(\"\");\n    setSearchInputValue(\"\");\n  }, []);\n  const handleSearchKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(event => {\n    if (event.key === \"Escape\") {\n      handleClearSearch();\n    }\n  }, [handleClearSearch]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (showSearchLoadingRef.current === false && !isLoading) {\n      showSearchLoadingRef.current = true;\n    }\n    return () => {\n      showSearchLoadingRef.current = false;\n    };\n  }, [isLoading]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    handleClearSearch();\n    showSearchLoadingRef.current = false;\n  }, [paneKey, handleClearSearch]);\n  const loadingVariant = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const showSpinner = isLoading && items.length === 0 && showSearchLoadingRef.current;\n    if (showSpinner) return \"spinner\";\n    return \"initial\";\n  }, [isLoading, items.length]);\n  const searchInput = /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n    paddingX: 2,\n    paddingBottom: 2,\n    children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchCard, {\n      radius: 4,\n      tone: \"transparent\",\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.TextInput, {\n        \"aria-label\": \"Search list\",\n        autoComplete: \"off\",\n        border: false,\n        clearButton: Boolean(searchQuery),\n        disabled: !isSearchReady,\n        fontSize: [2, 2, 1],\n        icon: loadingVariant === \"spinner\" ? AnimatedSpinnerIcon : _sanity_icons__WEBPACK_IMPORTED_MODULE_18__.SearchIcon,\n        onChange: handleQueryChange,\n        onClear: handleClearSearch,\n        onKeyDown: handleSearchKeyDown,\n        placeholder: \"Search list\",\n        radius: 2,\n        ref: setSearchInputElement,\n        spellCheck: false,\n        value: searchInputValue\n      })\n    })\n  });\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_5__.SourceProvider, {\n    name: sourceName || parentSourceName,\n    children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__.Pane, {\n      currentMaxWidth: 350,\n      \"data-ui\": \"DocumentListPane\",\n      id: paneKey,\n      maxWidth: 640,\n      minWidth: 320,\n      selected: isSelected,\n      children: [_desk_72f5b93a_js__WEBPACK_IMPORTED_MODULE_7__._DEBUG, /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentListPaneHeader, {\n        contentAfter: searchInput,\n        index,\n        initialValueTemplates,\n        menuItemGroups,\n        menuItems: menuItemsWithSelectedState,\n        setLayout,\n        setSortOrder,\n        title\n      }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentListPaneContent, {\n        childItemId,\n        error,\n        filterIsSimpleTypeConstraint,\n        hasMaxItems,\n        hasSearchQuery: Boolean(searchQuery),\n        isActive,\n        isLazyLoading,\n        isLoading,\n        items,\n        layout,\n        loadingVariant,\n        onListChange,\n        onRetry,\n        paneTitle: title,\n        searchInputElement,\n        showIcons\n      }, paneKey)]\n    })\n  });\n});\n\n//# sourceMappingURL=index-a58a53c5.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zYW5pdHkvbGliL19jaHVua3MvaW5kZXgtYTU4YTUzYzUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RDtBQUN3QjtBQUMwQjtBQUMvRDtBQUNIO0FBQ3lDO0FBQzNCO0FBQzhIO0FBQ25JO0FBQ2lKO0FBQzNLO0FBQzZIO0FBQzNGO0FBQ1Q7QUFDb0M7QUFDbEM7QUFDMUI7QUFDSTtBQUNBO0FBQzhFO0FBQ25DO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLCtDQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwREFBb0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDREQUFZLGFBQWEsOERBQWM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFFQUFxQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFHO0FBQy9JLEdBQUc7QUFDSCw0QkFBNEIsa0RBQVc7QUFDdkM7QUFDQTtBQUNBLEdBQUc7QUFDSCw4QkFBOEIsa0RBQVc7QUFDekM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLDhDQUFPO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxxQ0FBcUMsc0RBQUcsQ0FBQyw0Q0FBRztBQUM1QztBQUNBO0FBQ0EsNkJBQTZCLHNEQUFHO0FBQ2hDO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQUcsQ0FBQyxrREFBUztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsc0RBQVU7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNILHdCQUF3QixzREFBRyxDQUFDLGtEQUFjO0FBQzFDO0FBQ0EsNkJBQTZCLHVEQUFJLENBQUMsbURBQUk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFNLGlCQUFpQixzREFBRztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxrQkFBa0Isc0RBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDO0FBQ3NDO0FBQ3ZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zYW5pdHkvbGliL19jaHVua3MvaW5kZXgtYTU4YTUzYzUuanM/ZjU2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3hzLCBGcmFnbWVudCwganN4IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIG1lbW8sIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJveCwgRmxleCwgU3Bpbm5lciwgVGV4dCwgQ29udGFpbmVyLCBTdGFjaywgSGVhZGluZywgQnV0dG9uLCBDYXJkLCBUZXh0SW5wdXQgfSBmcm9tICdAc2FuaXR5L3VpJztcbmltcG9ydCBzaGFsbG93RXF1YWxzIGZyb20gJ3NoYWxsb3ctZXF1YWxzJztcbmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsLmpzJztcbmltcG9ydCB7IFN5bmNJY29uLCBBcnJvd0xlZnRJY29uLCBTcGlubmVySWNvbiwgU2VhcmNoSWNvbiB9IGZyb20gJ0BzYW5pdHkvaWNvbnMnO1xuaW1wb3J0IHN0eWxlZCwgeyBrZXlmcmFtZXMgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkZWZlciwgbWVyZ2VNYXAsIHRocm93RXJyb3IsIG9mLCBzaGFyZSwgcGFydGl0aW9uLCBtZXJnZSwgdGFrZSwgdGhyb3R0bGVUaW1lLCBhc3luY1NjaGVkdWxlciwgU3ViamVjdCwgY29uY2F0LCBmcm9tRXZlbnQsIG1hcCBhcyBtYXAkMSwgdGFwLCBkZWJvdW5jZSwgdGltZXIgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHVzZU9ic2VydmFibGVDYWxsYmFjayB9IGZyb20gJ3JlYWN0LXJ4JztcbmltcG9ydCB7IGNvbGxhdGUsIHVzZVNjaGVtYSwgZ2V0UHVibGlzaGVkSWQsIENvbW1hbmRMaXN0LCBTYW5pdHlEZWZhdWx0UHJldmlldywgY3JlYXRlU2VhcmNoUXVlcnksIHVzZUNsaWVudCwgREVGQVVMVF9TVFVESU9fQ0xJRU5UX09QVElPTlMsIHVzZVNvdXJjZSwgdXNlVW5pcXVlLCBTb3VyY2VQcm92aWRlciB9IGZyb20gJ3Nhbml0eSc7XG5pbXBvcnQgJ3Nhbml0eS9yb3V0ZXInO1xuaW1wb3J0IHsgdXNlUGFuZUxheW91dCwgdXNlUGFuZSwgRGVsYXksIFBhbmVDb250ZW50LCB1c2VEZXNrVG9vbCwgUGFuZUhlYWRlciwgUGFuZUhlYWRlckFjdGlvbnMsIEJhY2tMaW5rLCBQYW5lLCBfREVCVUcgfSBmcm9tICcuL2Rlc2stNzJmNWI5M2EuanMnO1xuaW1wb3J0IHsgdXNlRGVza1Rvb2xTZXR0aW5nIH0gZnJvbSAnLi9pbmRleC0wZTRhNmVjMi5qcyc7XG5pbXBvcnQgKiBhcyBQYXRoVXRpbHMgZnJvbSAnQHNhbml0eS91dGlsL3BhdGhzJztcbmltcG9ydCB7IGlzS2V5U2VnbWVudCwgaXNJbmRleFNlZ21lbnQsIGlzUmVmZXJlbmNlU2NoZW1hVHlwZSB9IGZyb20gJ0BzYW5pdHkvdHlwZXMnO1xuaW1wb3J0IHsgUGFuZUl0ZW0gfSBmcm9tICcuL1BhbmVJdGVtLWFkZjRkY2EyLmpzJztcbmltcG9ydCAnbG9kYXNoL29taXQuanMnO1xuaW1wb3J0ICdsb2Rhc2gvaXNOdW1iZXIuanMnO1xuaW1wb3J0ICdsb2Rhc2gvaXNTdHJpbmcuanMnO1xuaW1wb3J0IHsgbWFwLCBzdGFydFdpdGgsIGNhdGNoRXJyb3IsIHRha2UgYXMgdGFrZSQxLCBtZXJnZU1hcCBhcyBtZXJnZU1hcCQxLCBzY2FuIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgZXhoYXVzdE1hcFdpdGhUcmFpbGluZyB9IGZyb20gJ3J4anMtZXhoYXVzdG1hcC13aXRoLXRyYWlsaW5nJztcbmNvbnN0IFBBUlRJQUxfUEFHRV9MSU1JVCA9IDEwMDtcbmNvbnN0IEZVTExfTElTVF9MSU1JVCA9IDJlMztcbmNvbnN0IERFRkFVTFRfT1JERVJJTkcgPSB7XG4gIGJ5OiBbe1xuICAgIGZpZWxkOiBcIl91cGRhdGVkQXRcIixcbiAgICBkaXJlY3Rpb246IFwiZGVzY1wiXG4gIH1dXG59O1xuY29uc3QgRU1QVFlfUkVDT1JEID0ge307XG5mdW5jdGlvbiByZW1vdmVQdWJsaXNoZWRXaXRoRHJhZnRzKGRvY3VtZW50cykge1xuICByZXR1cm4gY29sbGF0ZShkb2N1bWVudHMpLm1hcChlbnRyeSA9PiB7XG4gICAgY29uc3QgZG9jID0gZW50cnkuZHJhZnQgfHwgZW50cnkucHVibGlzaGVkO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5kb2MsXG4gICAgICBoYXNQdWJsaXNoZWQ6ICEhZW50cnkucHVibGlzaGVkLFxuICAgICAgaGFzRHJhZnQ6ICEhZW50cnkuZHJhZnRcbiAgICB9O1xuICB9KTtcbn1cbmNvbnN0IFJFX1RZUEVfTkFNRV9JTl9GSUxURVIgPSAvXFxiX3R5cGVcXHMqPT1cXHMqKFsnXCJdLio/WydcIl18XFwkLio/KD86XFxzfCQpKXxcXEIoWydcIl0uKj9bJ1wiXXxcXCQuKj8oPzpcXHN8JCkpXFxzKj09XFxzKl90eXBlXFxiLztcbmZ1bmN0aW9uIGdldFR5cGVOYW1lRnJvbVNpbmdsZVR5cGVGaWx0ZXIoZmlsdGVyKSB7XG4gIGxldCBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBjb25zdCBtYXRjaGVzID0gZmlsdGVyLm1hdGNoKFJFX1RZUEVfTkFNRV9JTl9GSUxURVIpO1xuICBpZiAoIW1hdGNoZXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBtYXRjaCA9IChtYXRjaGVzWzFdIHx8IG1hdGNoZXNbMl0pLnRyaW0oKS5yZXBsYWNlKC9eW1wiJ118W1wiJ10kL2csIFwiXCIpO1xuICBpZiAobWF0Y2hbMF0gPT09IFwiJFwiKSB7XG4gICAgY29uc3QgayA9IG1hdGNoLnNsaWNlKDEpO1xuICAgIGNvbnN0IHYgPSBwYXJhbXNba107XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcInN0cmluZ1wiID8gdiA6IG51bGw7XG4gIH1cbiAgcmV0dXJuIG1hdGNoO1xufVxuZnVuY3Rpb24gaXNTaW1wbGVUeXBlRmlsdGVyKGZpbHRlcikge1xuICByZXR1cm4gL15fdHlwZVxccyo9PVxccypbJ1wiJF1cXHcrWydcIl0/XFxzKiQvLnRlc3QoZmlsdGVyLnRyaW0oKSk7XG59XG5mdW5jdGlvbiBhcHBseU9yZGVyaW5nRnVuY3Rpb25zKG9yZGVyLCBzY2hlbWFUeXBlKSB7XG4gIGNvbnN0IG9yZGVyQnkgPSBvcmRlci5ieS5tYXAoYnkgPT4ge1xuICAgIGlmIChieS5tYXBXaXRoKSB7XG4gICAgICByZXR1cm4gYnk7XG4gICAgfVxuICAgIGNvbnN0IGZpZWxkVHlwZSA9IHRyeVJlc29sdmVTY2hlbWFUeXBlRm9yUGF0aChzY2hlbWFUeXBlLCBieS5maWVsZCk7XG4gICAgaWYgKCFmaWVsZFR5cGUpIHtcbiAgICAgIHJldHVybiBieTtcbiAgICB9XG4gICAgaWYgKGZpZWxkRXh0ZW5kc1R5cGUoZmllbGRUeXBlLCBcImRhdGV0aW1lXCIpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5ieSxcbiAgICAgICAgbWFwV2l0aDogXCJkYXRlVGltZVwiXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoZmllbGRUeXBlLmpzb25UeXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5ieSxcbiAgICAgICAgbWFwV2l0aDogXCJsb3dlclwiXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYnk7XG4gIH0pO1xuICByZXR1cm4gb3JkZXJCeS5ldmVyeSgoaXRlbSwgaW5kZXgpID0+IGl0ZW0gPT09IG9yZGVyLmJ5W2luZGV4XSkgPyBvcmRlciA6IHtcbiAgICAuLi5vcmRlcixcbiAgICBieTogb3JkZXJCeVxuICB9O1xufVxuZnVuY3Rpb24gdHJ5UmVzb2x2ZVNjaGVtYVR5cGVGb3JQYXRoKGJhc2VUeXBlLCBwYXRoKSB7XG4gIGNvbnN0IHBhdGhTZWdtZW50cyA9IFBhdGhVdGlscy5mcm9tU3RyaW5nKHBhdGgpO1xuICBsZXQgY3VycmVudCA9IGJhc2VUeXBlO1xuICBmb3IgKGNvbnN0IHNlZ21lbnQgb2YgcGF0aFNlZ21lbnRzKSB7XG4gICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGN1cnJlbnQgPSBnZXRGaWVsZFR5cGVCeU5hbWUoY3VycmVudCwgc2VnbWVudCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgaXNBcnJheUFjY2Vzc29yID0gaXNLZXlTZWdtZW50KHNlZ21lbnQpIHx8IGlzSW5kZXhTZWdtZW50KHNlZ21lbnQpO1xuICAgIGlmICghaXNBcnJheUFjY2Vzc29yIHx8IGN1cnJlbnQuanNvblR5cGUgIT09IFwiYXJyYXlcIikge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgY29uc3QgW21lbWJlclR5cGUsIG90aGVyVHlwZV0gPSBjdXJyZW50Lm9mIHx8IFtdO1xuICAgIGlmIChvdGhlclR5cGUgfHwgIW1lbWJlclR5cGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGlmICghaXNSZWZlcmVuY2VTY2hlbWFUeXBlKG1lbWJlclR5cGUpKSB7XG4gICAgICBjdXJyZW50ID0gbWVtYmVyVHlwZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBbcmVmVHlwZSwgb3RoZXJSZWZUeXBlXSA9IG1lbWJlclR5cGUudG8gfHwgW107XG4gICAgaWYgKG90aGVyUmVmVHlwZSB8fCAhcmVmVHlwZSkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgY3VycmVudCA9IHJlZlR5cGU7XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnQ7XG59XG5mdW5jdGlvbiBnZXRGaWVsZFR5cGVCeU5hbWUodHlwZSwgZmllbGROYW1lKSB7XG4gIGlmICghKFwiZmllbGRzXCIgaW4gdHlwZSkpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGNvbnN0IGZpZWxkVHlwZSA9IHR5cGUuZmllbGRzLmZpbmQoZmllbGQgPT4gZmllbGQubmFtZSA9PT0gZmllbGROYW1lKTtcbiAgcmV0dXJuIGZpZWxkVHlwZSA/IGZpZWxkVHlwZS50eXBlIDogdm9pZCAwO1xufVxuZnVuY3Rpb24gZmllbGRFeHRlbmRzVHlwZShmaWVsZCwgb2ZUeXBlKSB7XG4gIGxldCBjdXJyZW50ID0gZmllbGQudHlwZTtcbiAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICBpZiAoY3VycmVudC5uYW1lID09PSBvZlR5cGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIWN1cnJlbnQudHlwZSAmJiBjdXJyZW50Lmpzb25UeXBlID09PSBvZlR5cGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjdXJyZW50ID0gY3VycmVudC50eXBlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbnZhciBfX2ZyZWV6ZSQxID0gT2JqZWN0LmZyZWV6ZTtcbnZhciBfX2RlZlByb3AkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX3RlbXBsYXRlJDEgPSAoY29va2VkLCByYXcpID0+IF9fZnJlZXplJDEoX19kZWZQcm9wJDEoY29va2VkLCBcInJhd1wiLCB7XG4gIHZhbHVlOiBfX2ZyZWV6ZSQxKHJhdyB8fCBjb29rZWQuc2xpY2UoKSlcbn0pKTtcbnZhciBfYSQxLCBfYiQxO1xuY29uc3QgUm9vdEJveCA9IHN0eWxlZChCb3gpKF9hJDEgfHwgKF9hJDEgPSBfX3RlbXBsYXRlJDEoW1wiXFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuXCJdKSkpO1xuY29uc3QgQ29tbWFuZExpc3RCb3ggPSBzdHlsZWQoQm94KShfYiQxIHx8IChfYiQxID0gX190ZW1wbGF0ZSQxKFtcIlxcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgdG9wOiAwO1xcbiAgYm90dG9tOiAwO1xcblwiXSkpKTtcbmNvbnN0IFNLRUxFVE9OX0lURU1TID0gWy4uLkFycmF5KDMwKS5rZXlzKCldO1xuZnVuY3Rpb24gTG9hZGluZ1ZpZXcocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGxheW91dFxuICB9ID0gcHJvcHM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goU3RhY2ssIHtcbiAgICBwYWRkaW5nOiAyLFxuICAgIHNwYWNlOiAxLFxuICAgIGNoaWxkcmVuOiBTS0VMRVRPTl9JVEVNUy5tYXAobnVtID0+IC8qIEBfX1BVUkVfXyAqL2pzeChDYXJkLCB7XG4gICAgICBwYWRkaW5nOiAyLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChTYW5pdHlEZWZhdWx0UHJldmlldywge1xuICAgICAgICBpc1BsYWNlaG9sZGVyOiB0cnVlLFxuICAgICAgICBsYXlvdXRcbiAgICAgIH0pXG4gICAgfSwgbnVtKSlcbiAgfSk7XG59XG5mdW5jdGlvbiBEb2N1bWVudExpc3RQYW5lQ29udGVudChwcm9wcykge1xuICBjb25zdCB7XG4gICAgY2hpbGRJdGVtSWQsXG4gICAgZXJyb3IsXG4gICAgZmlsdGVySXNTaW1wbGVUeXBlQ29uc3RyYWludCxcbiAgICBoYXNNYXhJdGVtcyxcbiAgICBoYXNTZWFyY2hRdWVyeSxcbiAgICBpc0FjdGl2ZSxcbiAgICBpc0xhenlMb2FkaW5nLFxuICAgIGlzTG9hZGluZyxcbiAgICBpdGVtcyxcbiAgICBsYXlvdXQsXG4gICAgbG9hZGluZ1ZhcmlhbnQsXG4gICAgb25MaXN0Q2hhbmdlLFxuICAgIG9uUmV0cnksXG4gICAgcGFuZVRpdGxlLFxuICAgIHNlYXJjaElucHV0RWxlbWVudCxcbiAgICBzaG93SWNvbnNcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzY2hlbWEgPSB1c2VTY2hlbWEoKTtcbiAgY29uc3Qge1xuICAgIGNvbGxhcHNlZDogbGF5b3V0Q29sbGFwc2VkXG4gIH0gPSB1c2VQYW5lTGF5b3V0KCk7XG4gIGNvbnN0IHtcbiAgICBjb2xsYXBzZWQsXG4gICAgaW5kZXhcbiAgfSA9IHVzZVBhbmUoKTtcbiAgY29uc3QgW3Nob3VsZFJlbmRlciwgc2V0U2hvdWxkUmVuZGVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgaGFuZGxlRW5kUmVhY2hlZCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoaXNMb2FkaW5nIHx8IGlzTGF6eUxvYWRpbmcgfHwgIXNob3VsZFJlbmRlcikgcmV0dXJuO1xuICAgIG9uTGlzdENoYW5nZSgpO1xuICB9LCBbaXNMYXp5TG9hZGluZywgaXNMb2FkaW5nLCBvbkxpc3RDaGFuZ2UsIHNob3VsZFJlbmRlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb2xsYXBzZWQpIHJldHVybiB2b2lkIDA7XG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldFNob3VsZFJlbmRlcih0cnVlKTtcbiAgICB9LCAwKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9O1xuICB9LCBbY29sbGFwc2VkLCBpdGVtc10pO1xuICBjb25zdCByZW5kZXJJdGVtID0gdXNlQ2FsbGJhY2soKGl0ZW0sIF9yZWYpID0+IHtcbiAgICBsZXQge1xuICAgICAgYWN0aXZlSW5kZXhcbiAgICB9ID0gX3JlZjtcbiAgICBjb25zdCBwdWJsaXNoZWRJZCA9IGdldFB1Ymxpc2hlZElkKGl0ZW0uX2lkKTtcbiAgICBjb25zdCBpc1NlbGVjdGVkID0gY2hpbGRJdGVtSWQgPT09IHB1Ymxpc2hlZElkO1xuICAgIGNvbnN0IHByZXNzZWQgPSAhaXNBY3RpdmUgJiYgaXNTZWxlY3RlZDtcbiAgICBjb25zdCBzZWxlY3RlZCA9IGlzQWN0aXZlICYmIGlzU2VsZWN0ZWQ7XG4gICAgY29uc3QgaXNMYXN0SXRlbSA9IGFjdGl2ZUluZGV4ID09PSBpdGVtcy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IHNob3dTcGlubmVyID0gaXNMYXN0SXRlbSAmJiBpc0xhenlMb2FkaW5nO1xuICAgIGNvbnN0IHNob3dNYXhJdGVtc01lc3NhZ2UgPSBpc0xhc3RJdGVtICYmIGhhc01heEl0ZW1zO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3hzKEZyYWdtZW50LCB7XG4gICAgICBjaGlsZHJlbjogWy8qIEBfX1BVUkVfXyAqL2pzeChQYW5lSXRlbSwge1xuICAgICAgICBpY29uOiBzaG93SWNvbnMgPT09IGZhbHNlID8gZmFsc2UgOiB2b2lkIDAsXG4gICAgICAgIGlkOiBwdWJsaXNoZWRJZCxcbiAgICAgICAgbGF5b3V0LFxuICAgICAgICBtYXJnaW5Cb3R0b206IDEsXG4gICAgICAgIHByZXNzZWQsXG4gICAgICAgIHNjaGVtYVR5cGU6IHNjaGVtYS5nZXQoaXRlbS5fdHlwZSksXG4gICAgICAgIHNlbGVjdGVkLFxuICAgICAgICB2YWx1ZTogaXRlbVxuICAgICAgfSksIHNob3dTcGlubmVyICYmIC8qIEBfX1BVUkVfXyAqL2pzeChGbGV4LCB7XG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgICAgICBwYWRkaW5nOiA0LFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KFNwaW5uZXIsIHtcbiAgICAgICAgICBtdXRlZDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSksIHNob3dNYXhJdGVtc01lc3NhZ2UgJiYgLyogQF9fUFVSRV9fICovanN4KEJveCwge1xuICAgICAgICBtYXJnaW5ZOiAxLFxuICAgICAgICBwYWRkaW5nWDogMyxcbiAgICAgICAgcGFkZGluZ1k6IDQsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3hzKFRleHQsIHtcbiAgICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICBtdXRlZDogdHJ1ZSxcbiAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgIGNoaWxkcmVuOiBbXCJEaXNwbGF5aW5nIGEgbWF4aW11bSBvZiBcIiwgRlVMTF9MSVNUX0xJTUlULCBcIiBkb2N1bWVudHNcIl1cbiAgICAgICAgfSlcbiAgICAgIH0pXVxuICAgIH0pO1xuICB9LCBbY2hpbGRJdGVtSWQsIGlzQWN0aXZlLCBpdGVtcy5sZW5ndGgsIGxheW91dCwgc2NoZW1hLCBzaG93SWNvbnMsIGhhc01heEl0ZW1zLCBpc0xhenlMb2FkaW5nXSk7XG4gIGNvbnN0IG5vRG9jdW1lbnRzQ29udGVudCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChoYXNTZWFyY2hRdWVyeSkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChGbGV4LCB7XG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGhlaWdodDogXCJmaWxsXCIsXG4gICAgICAgIGp1c3RpZnk6IFwiY2VudGVyXCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQ29udGFpbmVyLCB7XG4gICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChCb3gsIHtcbiAgICAgICAgICAgIHBhZGRpbmdYOiA0LFxuICAgICAgICAgICAgcGFkZGluZ1k6IDUsXG4gICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KFRleHQsIHtcbiAgICAgICAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIG11dGVkOiB0cnVlLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogXCJObyByZXN1bHRzIGZvdW5kXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KEZsZXgsIHtcbiAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgaGVpZ2h0OiBcImZpbGxcIixcbiAgICAgIGp1c3RpZnk6IFwiY2VudGVyXCIsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KENvbnRhaW5lciwge1xuICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChCb3gsIHtcbiAgICAgICAgICBwYWRkaW5nWDogNCxcbiAgICAgICAgICBwYWRkaW5nWTogNSxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KFRleHQsIHtcbiAgICAgICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgICAgICAgICBjaGlsZHJlbjogZmlsdGVySXNTaW1wbGVUeXBlQ29uc3RyYWludCA/IFwiTm8gZG9jdW1lbnRzIG9mIHRoaXMgdHlwZVwiIDogXCJObyBtYXRjaGluZyBkb2N1bWVudHNcIlxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pO1xuICB9LCBbZmlsdGVySXNTaW1wbGVUeXBlQ29uc3RyYWludCwgaGFzU2VhcmNoUXVlcnldKTtcbiAgY29uc3QgbWFpbkNvbnRlbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXNob3VsZFJlbmRlcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChGbGV4LCB7XG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGhlaWdodDogXCJmaWxsXCIsXG4gICAgICAgIGp1c3RpZnk6IFwiY2VudGVyXCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQ29udGFpbmVyLCB7XG4gICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeHMoU3RhY2ssIHtcbiAgICAgICAgICAgIHBhZGRpbmdYOiA0LFxuICAgICAgICAgICAgcGFkZGluZ1k6IDUsXG4gICAgICAgICAgICBzcGFjZTogNCxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbLyogQF9fUFVSRV9fICovanN4KEhlYWRpbmcsIHtcbiAgICAgICAgICAgICAgYXM6IFwiaDNcIixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFwiQ291bGQgbm90IGZldGNoIGxpc3QgaXRlbXNcIlxuICAgICAgICAgICAgfSksIC8qIEBfX1BVUkVfXyAqL2pzeHMoVGV4dCwge1xuICAgICAgICAgICAgICBhczogXCJwXCIsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXCJFcnJvcjogXCIsIC8qIEBfX1BVUkVfXyAqL2pzeChcImNvZGVcIiwge1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgIH0pXVxuICAgICAgICAgICAgfSksIG9uUmV0cnkgJiYgLyogQF9fUFVSRV9fICovanN4KEJveCwge1xuICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KEJ1dHRvbiwge1xuICAgICAgICAgICAgICAgIGljb246IFN5bmNJY29uLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IG9uUmV0cnksXG4gICAgICAgICAgICAgICAgdGV4dDogXCJSZXRyeVwiLFxuICAgICAgICAgICAgICAgIHRvbmU6IFwicHJpbWFyeVwiXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KV1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghaXNMb2FkaW5nICYmIGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG5vRG9jdW1lbnRzQ29udGVudDtcbiAgICB9XG4gICAgaWYgKGxvYWRpbmdWYXJpYW50ID09PSBcImluaXRpYWxcIiAmJiBpc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goRGVsYXksIHtcbiAgICAgICAgbXM6IDMwMCxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChMb2FkaW5nVmlldywge1xuICAgICAgICAgIGxheW91dFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChsb2FkaW5nVmFyaWFudCA9PT0gXCJzcGlubmVyXCIgJiYgaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gXCJcIi5jb25jYXQoaW5kZXgsIFwiLVwiKS5jb25jYXQoY29sbGFwc2VkKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFJvb3RCb3gsIHtcbiAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgaGVpZ2h0OiBcImZpbGxcIixcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQ29tbWFuZExpc3RCb3gsIHtcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChDb21tYW5kTGlzdCwge1xuICAgICAgICAgIGFjdGl2ZUl0ZW1EYXRhQXR0cjogXCJkYXRhLWhvdmVyZWRcIixcbiAgICAgICAgICBhcmlhTGFiZWw6IHBhbmVUaXRsZSxcbiAgICAgICAgICBjYW5SZWNlaXZlRm9jdXM6IHRydWUsXG4gICAgICAgICAgZm9jdXNSaW5nT2Zmc2V0OiAtMyxcbiAgICAgICAgICBpbnB1dEVsZW1lbnQ6IHNlYXJjaElucHV0RWxlbWVudCxcbiAgICAgICAgICBpdGVtSGVpZ2h0OiA1MSxcbiAgICAgICAgICBpdGVtcyxcbiAgICAgICAgICBvbkVuZFJlYWNoZWQ6IGhhbmRsZUVuZFJlYWNoZWQsXG4gICAgICAgICAgb25seVNob3dTZWxlY3Rpb25XaGVuQWN0aXZlOiB0cnVlLFxuICAgICAgICAgIG92ZXJzY2FuOiAxMCxcbiAgICAgICAgICBwYWRkaW5nOiAyLFxuICAgICAgICAgIHBhZGRpbmdCb3R0b206IDEsXG4gICAgICAgICAgcmVuZGVySXRlbSxcbiAgICAgICAgICB3cmFwQXJvdW5kOiBmYWxzZVxuICAgICAgICB9LCBrZXkpXG4gICAgICB9KVxuICAgIH0pO1xuICB9LCBbY29sbGFwc2VkLCBlcnJvciwgaGFuZGxlRW5kUmVhY2hlZCwgaW5kZXgsIGlzTG9hZGluZywgaXRlbXMsIGxheW91dCwgbG9hZGluZ1ZhcmlhbnQsXG4gIC8vIG5vRG9jdW1lbnRzQ29udGVudCxcbiAgb25SZXRyeSwgcmVuZGVySXRlbSwgc2VhcmNoSW5wdXRFbGVtZW50LCBzaG91bGRSZW5kZXJdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChQYW5lQ29udGVudCwge1xuICAgIG92ZXJmbG93OiBsYXlvdXRDb2xsYXBzZWQgfHwgbG9hZGluZ1ZhcmlhbnQgPT09IFwiaW5pdGlhbFwiID8gXCJoaWRkZW5cIiA6IFwiYXV0b1wiLFxuICAgIGNoaWxkcmVuOiBtYWluQ29udGVudFxuICB9KTtcbn1cbmNvbnN0IERvY3VtZW50TGlzdFBhbmVIZWFkZXIgPSBtZW1vKF9yZWYyID0+IHtcbiAgbGV0IHtcbiAgICBjb250ZW50QWZ0ZXIsXG4gICAgaW5kZXgsXG4gICAgaW5pdGlhbFZhbHVlVGVtcGxhdGVzID0gW10sXG4gICAgbWVudUl0ZW1Hcm91cHMgPSBbXSxcbiAgICBtZW51SXRlbXMgPSBbXSxcbiAgICBzZXRMYXlvdXQsXG4gICAgc2V0U29ydE9yZGVyLFxuICAgIHRpdGxlXG4gIH0gPSBfcmVmMjtcbiAgY29uc3Qge1xuICAgIGZlYXR1cmVzXG4gIH0gPSB1c2VEZXNrVG9vbCgpO1xuICBjb25zdCB7XG4gICAgY29sbGFwc2VkLFxuICAgIGlzTGFzdFxuICB9ID0gdXNlUGFuZSgpO1xuICBjb25zdCB0YWJJbmRleCA9IGlzTGFzdCAmJiAhY29sbGFwc2VkID8gLTEgOiAwO1xuICBjb25zdCBhY3Rpb25IYW5kbGVycyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzZXRMYXlvdXQ6IF9yZWYzID0+IHtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICBsYXlvdXQ6IHZhbHVlXG4gICAgICAgIH0gPSBfcmVmMztcbiAgICAgICAgc2V0TGF5b3V0KHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBzZXRTb3J0T3JkZXI6IHNvcnQgPT4ge1xuICAgICAgICBzZXRTb3J0T3JkZXIoc29ydCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3NldExheW91dCwgc2V0U29ydE9yZGVyXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goUGFuZUhlYWRlciwge1xuICAgIGFjdGlvbnM6IC8qIEBfX1BVUkVfXyAqL2pzeChQYW5lSGVhZGVyQWN0aW9ucywge1xuICAgICAgaW5pdGlhbFZhbHVlVGVtcGxhdGVJdGVtczogaW5pdGlhbFZhbHVlVGVtcGxhdGVzLFxuICAgICAgYWN0aW9uSGFuZGxlcnMsXG4gICAgICBtZW51SXRlbUdyb3VwcyxcbiAgICAgIG1lbnVJdGVtc1xuICAgIH0pLFxuICAgIGJhY2tCdXR0b246IGZlYXR1cmVzLmJhY2tCdXR0b24gJiYgaW5kZXggPiAwICYmIC8qIEBfX1BVUkVfXyAqL2pzeChCdXR0b24sIHtcbiAgICAgIGFzOiBCYWNrTGluayxcbiAgICAgIFwiZGF0YS1hc1wiOiBcImFcIixcbiAgICAgIGljb246IEFycm93TGVmdEljb24sXG4gICAgICBtb2RlOiBcImJsZWVkXCJcbiAgICB9KSxcbiAgICBjb250ZW50QWZ0ZXIsXG4gICAgdGFiSW5kZXgsXG4gICAgdGl0bGVcbiAgfSk7XG59KTtcbkRvY3VtZW50TGlzdFBhbmVIZWFkZXIuZGlzcGxheU5hbWUgPSBcIkRvY3VtZW50TGlzdFBhbmVIZWFkZXJcIjtcbmZ1bmN0aW9uIGxpc3RlblNlYXJjaFF1ZXJ5KG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGNsaWVudCxcbiAgICBzY2hlbWEsXG4gICAgc29ydCxcbiAgICBsaW1pdCxcbiAgICBwYXJhbXMsXG4gICAgZmlsdGVyLFxuICAgIHNlYXJjaFF1ZXJ5LFxuICAgIHN0YXRpY1R5cGVOYW1lc1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc29ydEJ5ID0gc29ydC5ieTtcbiAgY29uc3QgZXh0ZW5kZWRQcm9qZWN0aW9uID0gc29ydCA9PSBudWxsID8gdm9pZCAwIDogc29ydC5leHRlbmRlZFByb2plY3Rpb247XG4gIGNvbnN0IGV2ZW50cyQgPSBkZWZlcigoKSA9PiB7XG4gICAgcmV0dXJuIGNsaWVudC5saXN0ZW4oXCIqW1wiLmNvbmNhdChmaWx0ZXIsIFwiXVwiKSwgcGFyYW1zLCB7XG4gICAgICBldmVudHM6IFtcIndlbGNvbWVcIiwgXCJtdXRhdGlvblwiLCBcInJlY29ubmVjdFwiXSxcbiAgICAgIGluY2x1ZGVSZXN1bHQ6IGZhbHNlLFxuICAgICAgdmlzaWJpbGl0eTogXCJxdWVyeVwiXG4gICAgfSk7XG4gIH0pLnBpcGUobWVyZ2VNYXAoKGV2LCBpKSA9PiB7XG4gICAgY29uc3QgaXNGaXJzdCA9IGkgPT09IDA7XG4gICAgaWYgKGlzRmlyc3QgJiYgZXYudHlwZSAhPT0gXCJ3ZWxjb21lXCIpIHtcbiAgICAgIHJldHVybiB0aHJvd0Vycm9yKCgpID0+IG5ldyBFcnJvcihldi50eXBlID09PSBcInJlY29ubmVjdFwiID8gXCJDb3VsZCBub3QgZXN0YWJsaXNoIEV2ZW50U291cmNlIGNvbm5lY3Rpb25cIiA6ICdSZWNlaXZlZCB1bmV4cGVjdGVkIHR5cGUgb2YgZmlyc3QgZXZlbnQgXCInLmNvbmNhdChldi50eXBlLCAnXCInKSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2YoZXYpO1xuICB9KSwgc2hhcmUoKSk7XG4gIGNvbnN0IFt3ZWxjb21lJCwgbXV0YXRpb25BbmRSZWNvbm5lY3QkXSA9IHBhcnRpdGlvbihldmVudHMkLCBldiA9PiBldi50eXBlID09PSBcIndlbGNvbWVcIik7XG4gIHJldHVybiBtZXJnZSh3ZWxjb21lJC5waXBlKHRha2UoMSkpLCBtdXRhdGlvbkFuZFJlY29ubmVjdCQucGlwZSh0aHJvdHRsZVRpbWUoMWUzLCBhc3luY1NjaGVkdWxlciwge1xuICAgIGxlYWRpbmc6IHRydWUsXG4gICAgdHJhaWxpbmc6IHRydWVcbiAgfSkpKS5waXBlKGV4aGF1c3RNYXBXaXRoVHJhaWxpbmcoKCkgPT4ge1xuICAgIGNvbnN0IHR5cGVOYW1lcyQgPSBzdGF0aWNUeXBlTmFtZXMgPyBvZihzdGF0aWNUeXBlTmFtZXMpIDogY2xpZW50Lm9ic2VydmFibGUuZmV0Y2goXCJhcnJheTo6dW5pcXVlKCpbXCIuY29uY2F0KGZpbHRlciwgXCJdW10uX3R5cGUpXCIpLCBwYXJhbXMpO1xuICAgIHJldHVybiB0eXBlTmFtZXMkLnBpcGUobWVyZ2VNYXAodHlwZU5hbWVzID0+IHtcbiAgICAgIGNvbnN0IHR5cGVzID0gdHlwZU5hbWVzLmZsYXRNYXAobmFtZSA9PiBzY2hlbWEuZ2V0KG5hbWUpIHx8IFtdKTtcbiAgICAgIGNvbnN0IHNlYXJjaFRlcm1zID0ge1xuICAgICAgICBmaWx0ZXIsXG4gICAgICAgIHF1ZXJ5OiBzZWFyY2hRdWVyeSB8fCBcIlwiLFxuICAgICAgICB0eXBlc1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHNlYXJjaE9wdGlvbnMgPSB7XG4gICAgICAgIF9fdW5zdGFibGVfZXh0ZW5kZWRQcm9qZWN0aW9uOiBleHRlbmRlZFByb2plY3Rpb24sXG4gICAgICAgIGNvbW1lbnRzOiBbXCJmaW5kYWJpbGl0eS1zb3VyY2U6IFwiLmNvbmNhdChzZWFyY2hRdWVyeSA/IFwibGlzdC1xdWVyeVwiIDogXCJsaXN0XCIpXSxcbiAgICAgICAgbGltaXQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgc29ydDogc29ydEJ5XG4gICAgICB9O1xuICAgICAgY29uc3Qge1xuICAgICAgICBxdWVyeTogY3JlYXRlZFF1ZXJ5LFxuICAgICAgICBwYXJhbXM6IGNyZWF0ZWRQYXJhbXNcbiAgICAgIH0gPSBjcmVhdGVTZWFyY2hRdWVyeShzZWFyY2hUZXJtcywgc2VhcmNoT3B0aW9ucyk7XG4gICAgICByZXR1cm4gY2xpZW50Lm9ic2VydmFibGUuZmV0Y2goY3JlYXRlZFF1ZXJ5LCBjcmVhdGVkUGFyYW1zKTtcbiAgICB9KSk7XG4gIH0pKTtcbn1cbmNvbnN0IEVNUFRZX0FSUkFZJDEgPSBbXTtcbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIGVycm9yOiBudWxsLFxuICBvblJldHJ5OiB2b2lkIDAsXG4gIHJlc3VsdDogbnVsbFxufTtcbmNvbnN0IElOSVRJQUxfUVVFUllfUkVTVUxUUyA9IHtcbiAgcmVzdWx0OiBudWxsLFxuICBlcnJvcjogbnVsbFxufTtcbmZ1bmN0aW9uIHVzZURvY3VtZW50TGlzdChvcHRzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWx0ZXIsXG4gICAgcGFyYW1zOiBwYXJhbXNQcm9wLFxuICAgIHNvcnRPcmRlcixcbiAgICBzZWFyY2hRdWVyeVxuICB9ID0gb3B0cztcbiAgY29uc3QgY2xpZW50ID0gdXNlQ2xpZW50KERFRkFVTFRfU1RVRElPX0NMSUVOVF9PUFRJT05TKTtcbiAgY29uc3Qgc2NoZW1hID0gdXNlU2NoZW1hKCk7XG4gIGNvbnN0IFtyZXN1bHRTdGF0ZSwgc2V0UmVzdWx0XSA9IHVzZVN0YXRlKElOSVRJQUxfU1RBVEUpO1xuICBjb25zdCB7XG4gICAgb25SZXRyeSxcbiAgICBlcnJvcixcbiAgICByZXN1bHRcbiAgfSA9IHJlc3VsdFN0YXRlO1xuICBjb25zdCBkb2N1bWVudHMgPSByZXN1bHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3VsdC5kb2N1bWVudHM7XG4gIGNvbnN0IGl0ZW1zID0gdXNlTWVtbygoKSA9PiBkb2N1bWVudHMgPyByZW1vdmVQdWJsaXNoZWRXaXRoRHJhZnRzKGRvY3VtZW50cykgOiBFTVBUWV9BUlJBWSQxLCBbZG9jdW1lbnRzXSk7XG4gIGNvbnN0IFtpc0xhenlMb2FkaW5nLCBzZXRJc0xhenlMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2hhc0Z1bGxMaXN0LCBzZXRIYXNGdWxsTGlzdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG91bGRGZXRjaEZ1bGxMaXN0LCBzZXRTaG91bGRGZXRjaEZ1bGxMaXN0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgdHlwZU5hbWVGcm9tRmlsdGVyID0gdXNlTWVtbygoKSA9PiBnZXRUeXBlTmFtZUZyb21TaW5nbGVUeXBlRmlsdGVyKGZpbHRlciwgcGFyYW1zUHJvcCksIFtmaWx0ZXIsIHBhcmFtc1Byb3BdKTtcbiAgY29uc3QgaXNMb2FkaW5nID0gcmVzdWx0ID09PSBudWxsICYmICFlcnJvcjtcbiAgY29uc3QgaGFzTWF4SXRlbXMgPSAoZG9jdW1lbnRzID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudHMubGVuZ3RoKSA9PT0gRlVMTF9MSVNUX0xJTUlUO1xuICBjb25zdCBvbkxpc3RDaGFuZ2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGlzTG9hZGluZyB8fCBoYXNGdWxsTGlzdCB8fCBzaG91bGRGZXRjaEZ1bGxMaXN0KSByZXR1cm47XG4gICAgc2V0U2hvdWxkRmV0Y2hGdWxsTGlzdCh0cnVlKTtcbiAgfSwgW2lzTG9hZGluZywgaGFzRnVsbExpc3QsIHNob3VsZEZldGNoRnVsbExpc3RdKTtcbiAgY29uc3QgaGFuZGxlU2V0UmVzdWx0ID0gdXNlQ2FsbGJhY2socmVzID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgIHNldFJlc3VsdChyZXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkb2N1bWVudHNMZW5ndGggPSAoKF9iID0gKF9hID0gcmVzLnJlc3VsdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRvY3VtZW50cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmxlbmd0aCkgfHwgMDtcbiAgICBjb25zdCBpc0xvYWRpbmdNb3JlSXRlbXMgPSAhcmVzLmVycm9yICYmIChyZXMgPT0gbnVsbCA/IHZvaWQgMCA6IHJlcy5yZXN1bHQpID09PSBudWxsICYmIHNob3VsZEZldGNoRnVsbExpc3Q7XG4gICAgaWYgKGlzTG9hZGluZ01vcmVJdGVtcykge1xuICAgICAgc2V0SXNMYXp5TG9hZGluZyh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50c0xlbmd0aCA8IFBBUlRJQUxfUEFHRV9MSU1JVCAmJiBkb2N1bWVudHNMZW5ndGggIT09IDAgJiYgIXNob3VsZEZldGNoRnVsbExpc3QpIHtcbiAgICAgIHNldEhhc0Z1bGxMaXN0KHRydWUpO1xuICAgIH1cbiAgICBpZiAoKHJlcyA9PSBudWxsID8gdm9pZCAwIDogcmVzLnJlc3VsdCkgPT09IG51bGwpIHtcbiAgICAgIHNldFJlc3VsdChwcmV2ID0+ICh7XG4gICAgICAgIC4uLihwcmV2LmVycm9yID8gcmVzIDogcHJldilcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0SXNMYXp5TG9hZGluZyhmYWxzZSk7XG4gICAgc2V0UmVzdWx0KHJlcyk7XG4gIH0sIFtzaG91bGRGZXRjaEZ1bGxMaXN0XSk7XG4gIGNvbnN0IHF1ZXJ5UmVzdWx0cyQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBvblJldHJ5JCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgY29uc3QgX29uUmV0cnkgPSAoKSA9PiBvblJldHJ5JC5uZXh0KCk7XG4gICAgY29uc3QgbGltaXQgPSBzaG91bGRGZXRjaEZ1bGxMaXN0ID8gRlVMTF9MSVNUX0xJTUlUIDogUEFSVElBTF9QQUdFX0xJTUlUO1xuICAgIGNvbnN0IHNvcnQgPSBzb3J0T3JkZXIgfHwgREVGQVVMVF9PUkRFUklORztcbiAgICByZXR1cm4gbGlzdGVuU2VhcmNoUXVlcnkoe1xuICAgICAgY2xpZW50LFxuICAgICAgZmlsdGVyLFxuICAgICAgbGltaXQsXG4gICAgICBwYXJhbXM6IHBhcmFtc1Byb3AsXG4gICAgICBzY2hlbWEsXG4gICAgICBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnkgfHwgXCJcIixcbiAgICAgIHNvcnQsXG4gICAgICBzdGF0aWNUeXBlTmFtZXM6IHR5cGVOYW1lRnJvbUZpbHRlciA/IFt0eXBlTmFtZUZyb21GaWx0ZXJdIDogdm9pZCAwXG4gICAgfSkucGlwZShtYXAocmVzdWx0cyA9PiAoe1xuICAgICAgcmVzdWx0OiB7XG4gICAgICAgIGRvY3VtZW50czogcmVzdWx0c1xuICAgICAgfSxcbiAgICAgIGVycm9yOiBudWxsXG4gICAgfSkpLCBzdGFydFdpdGgoSU5JVElBTF9RVUVSWV9SRVNVTFRTKSwgY2F0Y2hFcnJvcihlcnIgPT4ge1xuICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIFByb2dyZXNzRXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoKCkgPT4gbmV3IEVycm9yKFwiUmVxdWVzdCBlcnJvclwiKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhyb3dFcnJvcigoKSA9PiBlcnIpO1xuICAgIH0pLCBjYXRjaEVycm9yKChlcnIsIGNhdWdodCQpID0+IHtcbiAgICAgIHJldHVybiBjb25jYXQob2Yoe1xuICAgICAgICByZXN1bHQ6IG51bGwsXG4gICAgICAgIGVycm9yOiBlcnJcbiAgICAgIH0pLCBtZXJnZShmcm9tRXZlbnQod2luZG93LCBcIm9ubGluZVwiKSwgb25SZXRyeSQpLnBpcGUodGFrZSQxKDEpLCBtZXJnZU1hcCQxKCgpID0+IGNhdWdodCQpKSk7XG4gICAgfSksIHNjYW4oKHByZXYsIG5leHQpID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgLi4ubmV4dCxcbiAgICAgIG9uUmV0cnk6IF9vblJldHJ5XG4gICAgfSkpKTtcbiAgfSwgW2NsaWVudCwgZmlsdGVyLCBwYXJhbXNQcm9wLCBzY2hlbWEsIHNlYXJjaFF1ZXJ5LCBzaG91bGRGZXRjaEZ1bGxMaXN0LCBzb3J0T3JkZXIsIHR5cGVOYW1lRnJvbUZpbHRlcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN1YiA9IHF1ZXJ5UmVzdWx0cyQuc3Vic2NyaWJlKGhhbmRsZVNldFJlc3VsdCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtoYW5kbGVTZXRSZXN1bHQsIHF1ZXJ5UmVzdWx0cyRdKTtcbiAgY29uc3QgcmVzZXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SGFzRnVsbExpc3QoZmFsc2UpO1xuICAgIHNldElzTGF6eUxvYWRpbmcoZmFsc2UpO1xuICAgIHNldFJlc3VsdChJTklUSUFMX1NUQVRFKTtcbiAgICBzZXRTaG91bGRGZXRjaEZ1bGxMaXN0KGZhbHNlKTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlc2V0KCk7XG4gIH0sIFtyZXNldCwgZmlsdGVyLCBwYXJhbXNQcm9wLCBzb3J0T3JkZXIsIHNlYXJjaFF1ZXJ5XSk7XG4gIHJldHVybiB7XG4gICAgZXJyb3IsXG4gICAgaGFzTWF4SXRlbXMsXG4gICAgaXNMYXp5TG9hZGluZyxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTZWFyY2hSZWFkeTogIWVycm9yLFxuICAgIGl0ZW1zLFxuICAgIG9uTGlzdENoYW5nZSxcbiAgICBvblJldHJ5XG4gIH07XG59XG52YXIgX19mcmVlemUgPSBPYmplY3QuZnJlZXplO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX3RlbXBsYXRlID0gKGNvb2tlZCwgcmF3KSA9PiBfX2ZyZWV6ZShfX2RlZlByb3AoY29va2VkLCBcInJhd1wiLCB7XG4gIHZhbHVlOiBfX2ZyZWV6ZShyYXcgfHwgY29va2VkLnNsaWNlKCkpXG59KSk7XG52YXIgX2EsIF9iLCBfYztcbmNvbnN0IEVNUFRZX0FSUkFZID0gW107XG5jb25zdCByb3RhdGUgPSBrZXlmcmFtZXMoX2EgfHwgKF9hID0gX190ZW1wbGF0ZShbXCJcXG4gIGZyb20ge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gIH1cXG4gIHRvIHtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcXG4gIH1cXG5cIl0pKSk7XG5jb25zdCBBbmltYXRlZFNwaW5uZXJJY29uID0gc3R5bGVkKFNwaW5uZXJJY29uKShfYiB8fCAoX2IgPSBfX3RlbXBsYXRlKFtcIlxcbiAgYW5pbWF0aW9uOiBcIiwgXCIgNTAwbXMgbGluZWFyIGluZmluaXRlO1xcblwiXSkpLCByb3RhdGUpO1xuY29uc3QgU2VhcmNoQ2FyZCA9IHN0eWxlZChDYXJkKShfYyB8fCAoX2MgPSBfX3RlbXBsYXRlKFtcIlxcbiAgW2RhdGEtdWk9J1RleHRJbnB1dCddIHtcXG4gICAgYm9yZGVyLXJhZGl1czogaW5oZXJpdDtcXG4gIH1cXG5cIl0pKSk7XG5mdW5jdGlvbiB1c2VTaGFsbG93VW5pcXVlKHZhbHVlKSB7XG4gIGNvbnN0IHZhbHVlUmVmID0gdXNlUmVmKHZhbHVlKTtcbiAgaWYgKCFzaGFsbG93RXF1YWxzKHZhbHVlUmVmLmN1cnJlbnQsIHZhbHVlKSkge1xuICAgIHZhbHVlUmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdmFsdWVSZWYuY3VycmVudDtcbn1cbmNvbnN0IGFkZFNlbGVjdGVkU3RhdGVUb01lbnVJdGVtcyA9IG9wdGlvbnMgPT4ge1xuICBjb25zdCB7XG4gICAgbWVudUl0ZW1zLFxuICAgIHNvcnRPcmRlclJhdyxcbiAgICBsYXlvdXRcbiAgfSA9IG9wdGlvbnM7XG4gIHJldHVybiBtZW51SXRlbXMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lbnVJdGVtcy5tYXAoaXRlbSA9PiB7XG4gICAgdmFyIF9hMiwgX2IyLCBfYzIsIF9kO1xuICAgIGlmICgoX2EyID0gaXRlbS5wYXJhbXMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIubGF5b3V0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICBzZWxlY3RlZDogbGF5b3V0ID09PSAoKF9iMiA9IGl0ZW0ucGFyYW1zKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLmxheW91dClcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICgoX2MyID0gaXRlbSA9PSBudWxsID8gdm9pZCAwIDogaXRlbS5wYXJhbXMpID09IG51bGwgPyB2b2lkIDAgOiBfYzIuYnkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHNlbGVjdGVkOiBpc0VxdWFsKHNvcnRPcmRlclJhdyA9PSBudWxsID8gdm9pZCAwIDogc29ydE9yZGVyUmF3LmJ5LCAoKF9kID0gaXRlbSA9PSBudWxsID8gdm9pZCAwIDogaXRlbS5wYXJhbXMpID09IG51bGwgPyB2b2lkIDAgOiBfZC5ieSkgfHwgRU1QVFlfQVJSQVkpXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4uaXRlbSxcbiAgICAgIHNlbGVjdGVkOiBmYWxzZVxuICAgIH07XG4gIH0pO1xufTtcbmNvbnN0IERvY3VtZW50TGlzdFBhbmUgPSBtZW1vKGZ1bmN0aW9uIERvY3VtZW50TGlzdFBhbmUyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjaGlsZEl0ZW1JZCxcbiAgICBpbmRleCxcbiAgICBpc0FjdGl2ZSxcbiAgICBpc1NlbGVjdGVkLFxuICAgIHBhbmUsXG4gICAgcGFuZUtleVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHNjaGVtYSA9IHVzZVNjaGVtYSgpO1xuICBjb25zdCB7XG4gICAgbmFtZTogcGFyZW50U291cmNlTmFtZVxuICB9ID0gdXNlU291cmNlKCk7XG4gIGNvbnN0IHtcbiAgICBkZWZhdWx0TGF5b3V0ID0gXCJkZWZhdWx0XCIsXG4gICAgZGlzcGxheU9wdGlvbnMsXG4gICAgaW5pdGlhbFZhbHVlVGVtcGxhdGVzID0gRU1QVFlfQVJSQVksXG4gICAgbWVudUl0ZW1Hcm91cHMsXG4gICAgbWVudUl0ZW1zLFxuICAgIG9wdGlvbnMsXG4gICAgdGl0bGVcbiAgfSA9IHBhbmU7XG4gIGNvbnN0IHtcbiAgICBhcGlWZXJzaW9uLFxuICAgIGRlZmF1bHRPcmRlcmluZyA9IEVNUFRZX0FSUkFZLFxuICAgIGZpbHRlclxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcGFyYW1zID0gdXNlU2hhbGxvd1VuaXF1ZShvcHRpb25zLnBhcmFtcyB8fCBFTVBUWV9SRUNPUkQpO1xuICBjb25zdCBzb3VyY2VOYW1lID0gcGFuZS5zb3VyY2U7XG4gIGNvbnN0IHR5cGVOYW1lID0gdXNlTWVtbygoKSA9PiBnZXRUeXBlTmFtZUZyb21TaW5nbGVUeXBlRmlsdGVyKGZpbHRlciwgcGFyYW1zKSwgW2ZpbHRlciwgcGFyYW1zXSk7XG4gIGNvbnN0IHNob3dJY29ucyA9IChkaXNwbGF5T3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogZGlzcGxheU9wdGlvbnMuc2hvd0ljb25zKSAhPT0gZmFsc2U7XG4gIGNvbnN0IFtsYXlvdXQsIHNldExheW91dF0gPSB1c2VEZXNrVG9vbFNldHRpbmcodHlwZU5hbWUsIFwibGF5b3V0XCIsIGRlZmF1bHRMYXlvdXQpO1xuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2VhcmNoSW5wdXRWYWx1ZSwgc2V0U2VhcmNoSW5wdXRWYWx1ZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3NlYXJjaElucHV0RWxlbWVudCwgc2V0U2VhcmNoSW5wdXRFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBzaG93U2VhcmNoTG9hZGluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGRlZmF1bHRTb3J0T3JkZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gKGRlZmF1bHRPcmRlcmluZyA9PSBudWxsID8gdm9pZCAwIDogZGVmYXVsdE9yZGVyaW5nLmxlbmd0aCkgPiAwID8ge1xuICAgICAgYnk6IGRlZmF1bHRPcmRlcmluZ1xuICAgIH0gOiBERUZBVUxUX09SREVSSU5HO1xuICB9LCBbZGVmYXVsdE9yZGVyaW5nXSk7XG4gIGNvbnN0IFtzb3J0T3JkZXJSYXcsIHNldFNvcnRPcmRlcl0gPSB1c2VEZXNrVG9vbFNldHRpbmcodHlwZU5hbWUsIFwic29ydE9yZGVyXCIsIGRlZmF1bHRTb3J0T3JkZXIpO1xuICBjb25zdCBzb3J0V2l0aE9yZGVyaW5nRm4gPSB0eXBlTmFtZSAmJiBzb3J0T3JkZXJSYXcgPyBhcHBseU9yZGVyaW5nRnVuY3Rpb25zKHNvcnRPcmRlclJhdywgc2NoZW1hLmdldCh0eXBlTmFtZSkpIDogc29ydE9yZGVyUmF3O1xuICBjb25zdCBzb3J0T3JkZXIgPSB1c2VVbmlxdWUoc29ydFdpdGhPcmRlcmluZ0ZuKTtcbiAgY29uc3QgZmlsdGVySXNTaW1wbGVUeXBlQ29uc3RyYWludCA9IGlzU2ltcGxlVHlwZUZpbHRlcihmaWx0ZXIpO1xuICBjb25zdCB7XG4gICAgZXJyb3IsXG4gICAgaGFzTWF4SXRlbXMsXG4gICAgaXNMYXp5TG9hZGluZyxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTZWFyY2hSZWFkeSxcbiAgICBpdGVtcyxcbiAgICBvbkxpc3RDaGFuZ2UsXG4gICAgb25SZXRyeVxuICB9ID0gdXNlRG9jdW1lbnRMaXN0KHtcbiAgICBhcGlWZXJzaW9uLFxuICAgIGZpbHRlcixcbiAgICBwYXJhbXMsXG4gICAgc2VhcmNoUXVlcnk6IHNlYXJjaFF1ZXJ5ID09IG51bGwgPyB2b2lkIDAgOiBzZWFyY2hRdWVyeS50cmltKCksXG4gICAgc29ydE9yZGVyXG4gIH0pO1xuICBjb25zdCBtZW51SXRlbXNXaXRoU2VsZWN0ZWRTdGF0ZSA9IHVzZU1lbW8oKCkgPT4gYWRkU2VsZWN0ZWRTdGF0ZVRvTWVudUl0ZW1zKHtcbiAgICBtZW51SXRlbXMsXG4gICAgc29ydE9yZGVyUmF3LFxuICAgIGxheW91dFxuICB9KSwgW2xheW91dCwgbWVudUl0ZW1zLCBzb3J0T3JkZXJSYXddKTtcbiAgY29uc3QgaGFuZGxlUXVlcnlDaGFuZ2UgPSB1c2VPYnNlcnZhYmxlQ2FsbGJhY2soZXZlbnQkID0+IHtcbiAgICByZXR1cm4gZXZlbnQkLnBpcGUobWFwJDEoZXZlbnQgPT4gZXZlbnQudGFyZ2V0LnZhbHVlKSwgdGFwKHNldFNlYXJjaElucHV0VmFsdWUpLCBkZWJvdW5jZSh2YWx1ZSA9PiB2YWx1ZSA9PT0gXCJcIiA/IG9mKFwiXCIpIDogdGltZXIoMzAwKSksIHRhcChzZXRTZWFyY2hRdWVyeSkpO1xuICB9LCBbXSk7XG4gIGNvbnN0IGhhbmRsZUNsZWFyU2VhcmNoID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNlYXJjaFF1ZXJ5KFwiXCIpO1xuICAgIHNldFNlYXJjaElucHV0VmFsdWUoXCJcIik7XG4gIH0sIFtdKTtcbiAgY29uc3QgaGFuZGxlU2VhcmNoS2V5RG93biA9IHVzZUNhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICBoYW5kbGVDbGVhclNlYXJjaCgpO1xuICAgIH1cbiAgfSwgW2hhbmRsZUNsZWFyU2VhcmNoXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3dTZWFyY2hMb2FkaW5nUmVmLmN1cnJlbnQgPT09IGZhbHNlICYmICFpc0xvYWRpbmcpIHtcbiAgICAgIHNob3dTZWFyY2hMb2FkaW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2hvd1NlYXJjaExvYWRpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFtpc0xvYWRpbmddKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBoYW5kbGVDbGVhclNlYXJjaCgpO1xuICAgIHNob3dTZWFyY2hMb2FkaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgfSwgW3BhbmVLZXksIGhhbmRsZUNsZWFyU2VhcmNoXSk7XG4gIGNvbnN0IGxvYWRpbmdWYXJpYW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3Qgc2hvd1NwaW5uZXIgPSBpc0xvYWRpbmcgJiYgaXRlbXMubGVuZ3RoID09PSAwICYmIHNob3dTZWFyY2hMb2FkaW5nUmVmLmN1cnJlbnQ7XG4gICAgaWYgKHNob3dTcGlubmVyKSByZXR1cm4gXCJzcGlubmVyXCI7XG4gICAgcmV0dXJuIFwiaW5pdGlhbFwiO1xuICB9LCBbaXNMb2FkaW5nLCBpdGVtcy5sZW5ndGhdKTtcbiAgY29uc3Qgc2VhcmNoSW5wdXQgPSAvKiBAX19QVVJFX18gKi9qc3goQm94LCB7XG4gICAgcGFkZGluZ1g6IDIsXG4gICAgcGFkZGluZ0JvdHRvbTogMixcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KFNlYXJjaENhcmQsIHtcbiAgICAgIHJhZGl1czogNCxcbiAgICAgIHRvbmU6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goVGV4dElucHV0LCB7XG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIlNlYXJjaCBsaXN0XCIsXG4gICAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgYm9yZGVyOiBmYWxzZSxcbiAgICAgICAgY2xlYXJCdXR0b246IEJvb2xlYW4oc2VhcmNoUXVlcnkpLFxuICAgICAgICBkaXNhYmxlZDogIWlzU2VhcmNoUmVhZHksXG4gICAgICAgIGZvbnRTaXplOiBbMiwgMiwgMV0sXG4gICAgICAgIGljb246IGxvYWRpbmdWYXJpYW50ID09PSBcInNwaW5uZXJcIiA/IEFuaW1hdGVkU3Bpbm5lckljb24gOiBTZWFyY2hJY29uLFxuICAgICAgICBvbkNoYW5nZTogaGFuZGxlUXVlcnlDaGFuZ2UsXG4gICAgICAgIG9uQ2xlYXI6IGhhbmRsZUNsZWFyU2VhcmNoLFxuICAgICAgICBvbktleURvd246IGhhbmRsZVNlYXJjaEtleURvd24sXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcIlNlYXJjaCBsaXN0XCIsXG4gICAgICAgIHJhZGl1czogMixcbiAgICAgICAgcmVmOiBzZXRTZWFyY2hJbnB1dEVsZW1lbnQsXG4gICAgICAgIHNwZWxsQ2hlY2s6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogc2VhcmNoSW5wdXRWYWx1ZVxuICAgICAgfSlcbiAgICB9KVxuICB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChTb3VyY2VQcm92aWRlciwge1xuICAgIG5hbWU6IHNvdXJjZU5hbWUgfHwgcGFyZW50U291cmNlTmFtZSxcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4cyhQYW5lLCB7XG4gICAgICBjdXJyZW50TWF4V2lkdGg6IDM1MCxcbiAgICAgIFwiZGF0YS11aVwiOiBcIkRvY3VtZW50TGlzdFBhbmVcIixcbiAgICAgIGlkOiBwYW5lS2V5LFxuICAgICAgbWF4V2lkdGg6IDY0MCxcbiAgICAgIG1pbldpZHRoOiAzMjAsXG4gICAgICBzZWxlY3RlZDogaXNTZWxlY3RlZCxcbiAgICAgIGNoaWxkcmVuOiBbX0RFQlVHLCAvKiBAX19QVVJFX18gKi9qc3goRG9jdW1lbnRMaXN0UGFuZUhlYWRlciwge1xuICAgICAgICBjb250ZW50QWZ0ZXI6IHNlYXJjaElucHV0LFxuICAgICAgICBpbmRleCxcbiAgICAgICAgaW5pdGlhbFZhbHVlVGVtcGxhdGVzLFxuICAgICAgICBtZW51SXRlbUdyb3VwcyxcbiAgICAgICAgbWVudUl0ZW1zOiBtZW51SXRlbXNXaXRoU2VsZWN0ZWRTdGF0ZSxcbiAgICAgICAgc2V0TGF5b3V0LFxuICAgICAgICBzZXRTb3J0T3JkZXIsXG4gICAgICAgIHRpdGxlXG4gICAgICB9KSwgLyogQF9fUFVSRV9fICovanN4KERvY3VtZW50TGlzdFBhbmVDb250ZW50LCB7XG4gICAgICAgIGNoaWxkSXRlbUlkLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZmlsdGVySXNTaW1wbGVUeXBlQ29uc3RyYWludCxcbiAgICAgICAgaGFzTWF4SXRlbXMsXG4gICAgICAgIGhhc1NlYXJjaFF1ZXJ5OiBCb29sZWFuKHNlYXJjaFF1ZXJ5KSxcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgICAgIGlzTGF6eUxvYWRpbmcsXG4gICAgICAgIGlzTG9hZGluZyxcbiAgICAgICAgaXRlbXMsXG4gICAgICAgIGxheW91dCxcbiAgICAgICAgbG9hZGluZ1ZhcmlhbnQsXG4gICAgICAgIG9uTGlzdENoYW5nZSxcbiAgICAgICAgb25SZXRyeSxcbiAgICAgICAgcGFuZVRpdGxlOiB0aXRsZSxcbiAgICAgICAgc2VhcmNoSW5wdXRFbGVtZW50LFxuICAgICAgICBzaG93SWNvbnNcbiAgICAgIH0sIHBhbmVLZXkpXVxuICAgIH0pXG4gIH0pO1xufSk7XG5leHBvcnQgeyBEb2N1bWVudExpc3RQYW5lIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LWE1OGE1M2M1LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/sanity/lib/_chunks/index-a58a53c5.js\n"));

/***/ })

}]);